
<!doctype html>
<html 
      lang="fr"
      dir="ltr">
  <head>
    <meta name="google-signin-client-id" content="721724668570-nbkv1cfusk7kk4eni4pjvepaus73b13t.apps.googleusercontent.com">
    <meta name="google-signin-scope"
          content="profile email https://www.googleapis.com/auth/developerprofiles https://www.googleapis.com/auth/developerprofiles.award">
    <meta property="og:site_name" content="Android Developers">
    <meta property="og:type" content="website"><meta name="theme-color" content="#34a853"><meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <link rel="manifest" href="/_pwa/android/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="//www.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="//apis.google.com" crossorigin>
    <link rel="preconnect" href="//www.google-analytics.com" crossorigin><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Google+Sans:400,500,600,700|Google+Sans+Text:400,400italic,500,500italic,600,600italic,700,700italic|Roboto+Mono:400,500,700&display=swap">
      <link rel="stylesheet"
            href="//fonts.googleapis.com/css2?family=Material+Icons&family=Material+Symbols+Outlined&display=block"><link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/android/css/app.css">
      
        <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/android/css/dark-theme.css" disabled>
      <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/android/images/favicon.svg">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/prod/v870e399c64f7c43c99a3043db4b3a74327bb93d0914e84a0c3dba90bbfd67625/android/images/touchicon-180.png"><link rel="canonical" href="https://developer.android.com/codelabs/basic-android-kotlin-compose-viewmodel-and-state?hl=fr"><link rel="search" type="application/opensearchdescription+xml"
            title="Android Developers" href="https://developer.android.com/s/opensearch.xml?hl=fr">
      <link rel="alternate" hreflang="en"
          href="https://developer.android.com/codelabs/basic-android-kotlin-compose-viewmodel-and-state" /><link rel="alternate" hreflang="x-default" href="https://developer.android.com/codelabs/basic-android-kotlin-compose-viewmodel-and-state" /><link rel="alternate" hreflang="zh-Hans"
          href="https://developer.android.com/codelabs/basic-android-kotlin-compose-viewmodel-and-state?hl=zh-cn" /><link rel="alternate" hreflang="zh-Hant"
          href="https://developer.android.com/codelabs/basic-android-kotlin-compose-viewmodel-and-state?hl=zh-tw" /><link rel="alternate" hreflang="fr"
          href="https://developer.android.com/codelabs/basic-android-kotlin-compose-viewmodel-and-state?hl=fr" /><link rel="alternate" hreflang="id"
          href="https://developer.android.com/codelabs/basic-android-kotlin-compose-viewmodel-and-state?hl=id" /><link rel="alternate" hreflang="ja"
          href="https://developer.android.com/codelabs/basic-android-kotlin-compose-viewmodel-and-state?hl=ja" /><link rel="alternate" hreflang="ko"
          href="https://developer.android.com/codelabs/basic-android-kotlin-compose-viewmodel-and-state?hl=ko" /><link rel="alternate" hreflang="es-419"
          href="https://developer.android.com/codelabs/basic-android-kotlin-compose-viewmodel-and-state?hl=es-419" /><link rel="alternate" hreflang="vi"
          href="https://developer.android.com/codelabs/basic-android-kotlin-compose-viewmodel-and-state?hl=vi" /><title>ViewModel et l&apos;état dans Compose &nbsp;|&nbsp; Android Developers</title>

<meta property="og:title" content="ViewModel et l&apos;état dans Compose &nbsp;|&nbsp; Android Developers"><meta name="description" content="Dans cet atelier de programmation, vous allez apprendre à utiliser un ViewModel, l&#39;un des composants d&#39;architecture. Vous implémenterez un ViewModel pour conserver l&#39;état de l&#39;application lorsque la configuration change.">
  <meta property="og:description" content="Dans cet atelier de programmation, vous allez apprendre à utiliser un ViewModel, l&#39;un des composants d&#39;architecture. Vous implémenterez un ViewModel pour conserver l&#39;état de l&#39;application lorsque la configuration change."><meta property="og:url" content="https://developer.android.com/codelabs/basic-android-kotlin-compose-viewmodel-and-state?hl=fr"><meta property="og:locale" content="fr">
  <meta name="xsrf_token" content="-OB3y0b-f6ZxKiG9rkMXqRTCF0QgezLB0QTksfSPvWc6MTczMzIxNzIzNjA5MTY4OQ">
  

  <meta name="session_expiry" content="1733220121">
  <meta name="uid" content="100428808468971413586">
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    
    
    
    
    
    
    
    
  

    
      <link rel="stylesheet" href="/extras.css"></head>
      <body>
        <article class="devsite-article"><style>
            body {
              transition: opacity ease-in 0.2s;
            }
      
            body[unresolved] {
              opacity: 0;
              display: block;
              overflow: hidden;
              position: relative;
            }
            </style>
        
        
        
        
        
      
        <div class="devsite-article-meta nocontent" role="navigation">
          
          
          <ul class="devsite-breadcrumb-list">
        
      </ul>
          
        </div>
        
          <h1 class="devsite-page-title" tabindex="-1">
            ViewModel et l'état dans Compose
            
          </h1>
        <devsite-feature-tooltip ack-key="AckCollectionsBookmarkTooltipDismiss" analytics-category="Site-Wide Custom Events" analytics-action-show="Callout Profile displayed" analytics-action-close="Callout Profile dismissed" analytics-label="Create Collection Callout" class="devsite-page-bookmark-tooltip nocontent" dismiss-button="true" id="devsite-collections-dropdown" dismiss-button-text="Ignorer" close-button-text="OK">
      
          
          <devsite-bookmark></devsite-bookmark>
      
          <span slot="popout-heading">
            
            Restez organisé à l'aide des collections
          </span>
          <span slot="popout-contents">
            
            Enregistrez et classez les contenus selon vos préférences.
          </span>
        </devsite-feature-tooltip>
        
      
        <devsite-toc class="devsite-nav" depth="1" devsite-toc-embedded="">
        </devsite-toc>
        
          
        
      
        
      
      
      
      
      
      
      <div class="devsite-article-body clearfix
        ">
      
        
          
      
          <google-codelab-analytics gaid="UA-49880327-14" ga4id="G-JTFZSJVVVZ"></google-codelab-analytics>
          <google-codelab codelab-gaid="UA-81734179-1" codelab-ga4id="" doc-id="1-mM8ojMcJNMXMgLN9tJfdD7JG04cR2hNkiATk40GGB4" id="basic-android-kotlin-compose-viewmodel-and-state" title="ViewModel et l&amp;#39;état dans Compose" no-tooltip="" environment="web" category="" feedback-link="https://github.com/google-developer-training/basic-android-kotlin-compose-training-unscramble/issues/new?assignees=&amp;labels=&amp;template=android-basics–viewmodel-and-state-in-compose.md&amp;title=Android+Basics%3A+Viewmodel+and+State+in+Compose" layout="paginated">
      
              <google-codelab-step label="Avant de commencer" duration="0" step="0">
      
                  <google-codelab-about codelab-title="ViewModel et l'état dans Compose" authors="L'équipe de formation Google Developers" last-updated="2023-09-21T19:59:23Z">
                  </google-codelab-about>
      
                <h2 class="step-title" id="0" data-text="Avant de commencer" tabindex="-1">
                    1. Avant de commencer
                </h2>
                <p>Dans les ateliers précédents, vous avez découvert le cycle de vie des activités et les problèmes de cycle de vie liés aux modifications de configuration. Lorsqu'une configuration est modifiée, vous pouvez enregistrer les données d'une application de différentes manières, par exemple en utilisant <code translate="no" dir="ltr">rememberSaveable</code> ou en enregistrant l'état de l'instance. Cependant, ces options peuvent créer des problèmes. Dans la plupart des cas, vous pouvez utiliser <code translate="no" dir="ltr">rememberSaveable</code>, mais vous devrez peut-être conserver la logique dans ou près des composables. Quand une application se développe, il convient de séparer les données et la logique des composables. Dans cet atelier de programmation, vous allez découvrir une méthode efficace pour concevoir votre application et préserver ses données lors des modifications de configuration grâce à la bibliothèque Android Jetpack, à <code translate="no" dir="ltr">ViewModel</code> et aux principes fondamentaux de l'architecture des applications Android.</p>
      <p>Les bibliothèques <a href="https://developer.android.com/jetpack?hl=fr" target="_blank">Android Jetpack</a> vous permettent de développer plus facilement des applications Android performantes. Elles vous aident à suivre les bonnes pratiques, vous évitent d'avoir à écrire du code récurrent et simplifient les tâches complexes. Vous pouvez ainsi vous concentrer sur le code qui vous intéresse, comme la logique de l'application.</p>
      <p>L'<em>architecture des applications</em> est l'ensemble des règles qui régit la conception d'une application. Comme le plan d'une maison, votre architecture fournit la structure de votre application. Avec une bonne architecture, votre code peut être robuste, flexible, évolutif, testable et facile à gérer au cours des années à venir. Le <a href="https://developer.android.com/topic/libraries/architecture?hl=fr" target="_blank">Guide de l'architecture des applications</a> fournit des recommandations sur l'architecture des applications et les bonnes pratiques en la matière.</p>
      <p>Dans cet atelier de programmation, vous allez apprendre à utiliser <a href="https://developer.android.com/topic/libraries/architecture/viewmodel?hl=fr" target="_blank"><code translate="no" dir="ltr">ViewModel</code></a>, l'un des composants d'architecture des bibliothèques Android Jetpack capables de stocker les données de vos applications. Si le framework détruit et recrée les activités lors d'une modification de configuration, ou lorsque d'autres événements surviennent, les données stockées ne sont pas perdues. Cependant, les données seront perdues si l'activité est détruite suite à l'arrêt du processus. Le <code translate="no" dir="ltr">ViewModel</code> ne met en cache les données que via des recréations liées à une activité rapide.</p>
      <h2 is-upgraded="" id="prerequisites" data-text="Conditions préalables" tabindex="-1">Conditions préalables</h2>
      <ul>
      <li>Vous maîtrisez Kotlin, y compris les fonctions, les lambdas et les composables sans état.</li>
      <li>Vous disposez de connaissances de base en création de mises en page dans Jetpack Compose.</li>
      <li>Vous disposez de connaissances de base en Material Design.</li>
      </ul>
      <h2 class="checklist" is-upgraded="" id="what-youll-learn" data-text="Points abordés" tabindex="-1">Points abordés</h2>
      <ul class="checklist">
      <li>Présentation de l'<a href="https://developer.android.com/topic/architecture?hl=fr#recommended-app-arch" target="_blank">architecture des applications Android</a></li>
      <li>Utiliser la classe <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel?hl=fr" target="_blank"><code translate="no" dir="ltr">ViewModel</code></a> dans votre application</li>
      <li>Comment conserver les données de l'interface utilisateur en modifiant la configuration de l'appareil à l'aide de <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel?hl=fr" target="_blank"><code translate="no" dir="ltr">ViewModel</code></a></li>
      </ul>
      <h2 is-upgraded="" id="what-youll-build" data-text="Objectifs de l'atelier" tabindex="-1">Objectifs de l'atelier</h2>
      <ul>
      <li>Créer une application de jeu <a href="https://github.com/google-developer-training/basic-android-kotlin-compose-training-unscramble" target="_blank">Unscramble</a>, dans laquelle l'utilisateur doit retrouver un mot à partir de lettres mélangées.</li>
      </ul>
      <h2 is-upgraded="" id="what-youll-need" data-text="Ce dont vous avez besoin" tabindex="-1">Ce dont vous avez besoin</h2>
      <ul>
      <li>La dernière version d'Android Studio</li>
      <li>Une connexion Internet pour télécharger le code de démarrage</li>
      </ul>
      
              </google-codelab-step>
      
              <google-codelab-step label="Présentation de l'application" duration="0" step="1">
      
                <h2 class="step-title" id="1" data-text="Présentation de l'application" tabindex="-1">
                    2. Présentation de l'application
                </h2>
                <h2 is-upgraded="" id="game-overview" data-text="Présentation du jeu" tabindex="-1">Présentation du jeu</h2>
      <p>L'application Unscramble est un jeu en solo qui repose sur le principe des anagrammes. L'application affiche un mot dont les lettres ont été mélangées, et le joueur doit retrouver le mot en utilisant toutes les lettres affichées. Si le mot est correct, le joueur marque des points. Dans le cas contraire, il peut retenter sa chance. L'application propose également une option permettant d'ignorer un mot. Dans le coin supérieur droit, l'application affiche le nombre de mots qui vous ont déjà été proposés au cours de la partie. Il y a 10 mots à deviner par partie.</p>
      <table class="vertical-rules">
      <tbody><tr><td colspan="1" rowspan="1"><p class="image-container"><img title="Écran de jeu initial avec un nombre de mots mélangé et un score de zéro" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      </td><td colspan="1" rowspan="1"><p class="image-container"><img title="Écran de jeu affichant le champ de texte d'erreur  " src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      </td><td colspan="1" rowspan="1"><p class="image-container"><img title="Écran de jeu avec une boîte de dialogue de félicitations indiquant le score final et l'option permettant de quitter ou de rejouer. " src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      </td></tr>
      </tbody></table>
      <h2 is-upgraded="" id="get-the-starter-code" data-text="Télécharger le code de démarrage" tabindex="-1"><strong>Télécharger le code de démarrage</strong></h2>
      <p>Pour commencer, téléchargez le code de démarrage :</p>
      <p><a href="https://github.com/google-developer-training/basic-android-kotlin-compose-training-unscramble/archive/refs/heads/starter.zip" target="_blank"><button class="button button-primary button-with-icon"><span class="material-icons" aria-hidden="true" translate="no">file_download</span>Télécharger le fichier ZIP</button></a></p>
      <p>Vous pouvez également cloner le dépôt GitHub du code :</p>
      <div></div><devsite-code><pre translate="no" dir="ltr" is-upgraded="">$ git clone
      https://github.com/google-developer-training/basic-android-kotlin-compose-training-unscramble.git
      $ cd basic-android-kotlin-compose-training-unscramble
      $ git checkout starter
      </pre></devsite-code>
      <aside class="special"><p><strong>Remarque</strong> : Le code de démarrage se trouve dans la branche <code translate="no" dir="ltr">starter</code> du dépôt téléchargé.</p>
      </aside>
      <p>Vous pouvez parcourir le code de démarrage dans le dépôt GitHub <a href="https://github.com/google-developer-training/basic-android-kotlin-compose-training-unscramble/tree/starter" target="_blank"><code translate="no" dir="ltr">Unscramble</code></a>.</p>
      
              </google-codelab-step>
      
              <google-codelab-step label="Présentation de l'application de démarrage" duration="0" step="2">
      
                <h2 class="step-title" id="2" data-text="Présentation de l'application de démarrage" tabindex="-1">
                    3. Présentation de l'application de démarrage
                </h2>
                <p>Pour vous familiariser avec le code de démarrage, procédez comme suit :</p>
      <ol type="1">
      <li>Dans Android Studio, ouvrez le projet contenant le code de démarrage.</li>
      <li>Exécutez l'appli sur un appareil Android ou sur un émulateur.</li>
      <li>Appuyez sur les boutons <strong>Submit</strong> (Envoyer) et <strong>Skip</strong> (Ignorer) pour tester l'appli.</li>
      </ol>
      <p>Vous remarquerez des bugs dans l'appli. Le mot mélangé ne s'affiche pas, mais est codé en dur sur "scrambleun", et rien ne se passe lorsque vous appuyez sur ces boutons.</p>
      <p>Dans cet atelier de programmation, vous allez implémenter la fonctionnalité de jeu à l'aide de l'architecture des applications Android.</p>
      <h2 is-upgraded="" id="starter-code-walk-through" data-text="Explication du code de démarrage" tabindex="-1">Explication du code de démarrage</h2>
      <p>Le code de démarrage vous propose une mise en page prédéfinie pour l'écran du jeu. Dans ce parcours, vous allez vous concentrer sur la mise en œuvre de la logique du jeu. Vous utiliserez des composants d'architecture pour implémenter la structure d'application recommandée et résoudre les problèmes mentionnés ci-dessus. Voici une présentation rapide de certains fichiers pour vous aider à vous lancer.</p>
      <p><strong>WordsData.kt</strong></p>
      <p>Ce fichier contient la liste des mots utilisés dans le jeu, ainsi que des constantes pour le nombre maximal de mots par partie et le nombre de points gagnés par le joueur pour chaque mot trouvé.</p>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-k">package</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.example.android.unscramble.data</span>
      
      <span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">MAX_NO_OF_WORDS</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">10</span>
      <span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">SCORE_INCREASE</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">20</span>
      
      <span class="devsite-syntax-c1">// Set with all the words for the Game</span>
      <span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">allWords</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Set&lt;String&gt;</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">setOf</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-s">"animal"</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-s">"auto"</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-s">"anecdote"</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-s">"alphabet"</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-s">"all"</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-s">"awesome"</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-s">"arise"</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-s">"balloon"</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-s">"basket"</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-s">"bench"</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// ...</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-s">"zoology"</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-s">"zone"</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-s">"zeal"</span>
      <span class="devsite-syntax-p">)</span>
      </code></pre></devsite-code>
      <aside class="warning"><p><strong>AVERTISSEMENT</strong> : Il est déconseillé de coder des chaînes en dur. Ajoutez des chaînes à <code translate="no" dir="ltr">strings.xml</code> pour faciliter la localisation de l'application. Dans cet exemple, les chaînes sont codées en dur par souci de simplicité et vous permettent de vous concentrer sur l'architecture de l'application.</p>
      </aside>
      <p><strong>MainActivity.kt</strong></p>
      <p>Ce fichier contient principalement du code généré à partir d'un modèle. Le composable <code translate="no" dir="ltr">GameScreen</code> est affiché dans le bloc <code translate="no" dir="ltr">setContent{}</code>.</p>
      <p><strong>GameScreen.kt</strong></p>
      <p>Tous les composables de l'interface utilisateur sont définis dans le fichier <strong><code translate="no" dir="ltr">GameScreen.kt</code></strong>. Les sections suivantes vous présentent quelques fonctions modulables.</p>
      <p><strong>GameStatus</strong></p>
      <p><code translate="no" dir="ltr">GameStatus</code> est une fonction composable qui affiche le score du jeu en bas de l'écran. La fonction composable contient un composable Text dans une <code translate="no" dir="ltr">Card</code>. Pour l'instant, le score est codé en dur pour être <code translate="no" dir="ltr">0</code>.</p>
      <p class="image-container"><img alt="1a7e4472a5638d61.png" style="width: 389.78px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/1a7e4472a5638d61.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/1a7e4472a5638d61_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/1a7e4472a5638d61_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/1a7e4472a5638d61_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/1a7e4472a5638d61_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/1a7e4472a5638d61_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/1a7e4472a5638d61_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/1a7e4472a5638d61_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/1a7e4472a5638d61_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/1a7e4472a5638d61_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/1a7e4472a5638d61_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/1a7e4472a5638d61_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// No need to copy, this is included in the starter code.</span>
      
      <span class="devsite-syntax-nd">@Composable</span>
      <span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">GameStatus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">score</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Int</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">Card</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">modifier</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">score</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">score</span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">style</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">typography</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">headlineMedium</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">padding</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-m">8.</span><span class="devsite-syntax-n">dp</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <p><strong>GameLayout</strong></p>
      <p><code translate="no" dir="ltr">GameLayout</code> est une fonction composable qui affiche la fonctionnalité principale du jeu, qui comprend le mot mélangé, les instructions du jeu et un champ de texte qui accepte les propositions de l'utilisateur.</p>
      <p class="image-container"><img alt="b6ddb1f07f10df0c.png" title="GameLayout affichant le mot mélangé" style="width: 322.80px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/b6ddb1f07f10df0c.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/b6ddb1f07f10df0c_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/b6ddb1f07f10df0c_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/b6ddb1f07f10df0c_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/b6ddb1f07f10df0c_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/b6ddb1f07f10df0c_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/b6ddb1f07f10df0c_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/b6ddb1f07f10df0c_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/b6ddb1f07f10df0c_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/b6ddb1f07f10df0c_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/b6ddb1f07f10df0c_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/b6ddb1f07f10df0c_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <p>Notez que le code <code translate="no" dir="ltr">GameLayout</code> ci-dessous contient une colonne dans une <code translate="no" dir="ltr">Card</code> avec trois éléments "enfant" : le mot mélangé, le texte des instructions et le champ de texte pour le mot <code translate="no" dir="ltr">OutlinedTextField</code> de l'utilisateur. Pour le moment, le mot mélangé est codé en dur pour être <code translate="no" dir="ltr">scrambleun</code>. Plus tard dans l'atelier, vous implémenterez une fonctionnalité permettant d'afficher un mot du fichier <code translate="no" dir="ltr">WordsData.kt</code>.</p>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// No need to copy, this is included in the starter code.</span>
      
      <span class="devsite-syntax-nd">@Composable</span>
      <span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">GameLayout</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">mediumPadding</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">dimensionResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">dimen</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">padding_medium</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">Card</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">elevation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">CardDefaults</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">cardElevation</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">defaultElevation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">5.</span><span class="devsite-syntax-n">dp</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">Column</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">verticalArrangement</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Arrangement</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">spacedBy</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">mediumPadding</span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">horizontalAlignment</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Alignment</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">CenterHorizontally</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">padding</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">mediumPadding</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span>
      <span class="devsite-syntax-w">                   </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">clip</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">shapes</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">medium</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">                   </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">background</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">colorScheme</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">surfaceTint</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">                   </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">padding</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">horizontal</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">10.</span><span class="devsite-syntax-n">dp</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">vertical</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">4.</span><span class="devsite-syntax-n">dp</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">                   </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">align</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">alignment</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Alignment</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">End</span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">word_count</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">0</span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">style</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">typography</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">titleMedium</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">color</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">colorScheme</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">onPrimary</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"scrambleun"</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">style</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">typography</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">displayMedium</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">instructions</span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">textAlign</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">TextAlign</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">Center</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">style</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">typography</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">titleMedium</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">OutlinedTextField</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">value</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">""</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">singleLine</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">shape</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">shapes</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">large</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fillMaxWidth</span><span class="devsite-syntax-p">(),</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">colors</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">TextFieldDefaults</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">textFieldColors</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">containerColor</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">colorScheme</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">surface</span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">onValueChange</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">label</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">enter_your_word</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">isError</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">false</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">keyboardOptions</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">KeyboardOptions</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">Default</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">copy</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">                   </span><span class="devsite-syntax-n">imeAction</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ImeAction</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">Done</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">keyboardActions</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">KeyboardActions</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">                   </span><span class="devsite-syntax-n">onDone</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <p>Le composable <code translate="no" dir="ltr">OutlinedTextField</code> est semblable au composable <code translate="no" dir="ltr">TextField</code> des applications vu dans les précédents ateliers.</p>
      <p>Il existe deux types de champs de texte :</p>
      <ul>
      <li>Les champs de texte remplis</li>
      <li>Champs de texte encadrés</li>
      </ul>
      <p class="image-container"><img alt="3df34220c3d177eb.png" title="Champ de texte rempli et champ de texte encadré" style="width: 624.00px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/3df34220c3d177eb.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/3df34220c3d177eb_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/3df34220c3d177eb_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/3df34220c3d177eb_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/3df34220c3d177eb_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/3df34220c3d177eb_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/3df34220c3d177eb_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/3df34220c3d177eb_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/3df34220c3d177eb_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/3df34220c3d177eb_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/3df34220c3d177eb_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/3df34220c3d177eb_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <p>Les champs de texte encadrés sont moins visibles que les champs de texte remplis. Lorsqu'ils apparaissent au niveau des formulaires, qui réunissent de nombreux champs de texte, leur accentuation réduite facilite la mise en page.</p>
      <p>Dans le code de démarrage, <code translate="no" dir="ltr">OutlinedTextField</code> ne se met pas à jour lorsque l'utilisateur saisit une proposition. Vous allez mettre à jour cette fonctionnalité au cours de cet atelier.</p>
      <p><strong>GameScreen</strong></p>
      <p>Le composable <code translate="no" dir="ltr">GameScreen</code> contient les fonctions composables <code translate="no" dir="ltr">GameStatus</code> et <code translate="no" dir="ltr">GameLayout</code>, le titre du jeu, le nombre de mots et les composables des boutons <strong>Submit</strong> (Envoyer) et <strong>Skip</strong> (Ignorer).</p>
      <p class="image-container"><img alt="ac79bf1ed6375a27.png" title="Écran de jeu avec tous les composables " style="width: 249.60px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac79bf1ed6375a27_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-nd">@Composable</span>
      <span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">GameScreen</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">mediumPadding</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">dimensionResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">dimen</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">padding_medium</span><span class="devsite-syntax-p">)</span>
      
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">Column</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">verticalScroll</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">rememberScrollState</span><span class="devsite-syntax-p">())</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">padding</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">mediumPadding</span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">verticalArrangement</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Arrangement</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">Center</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">horizontalAlignment</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Alignment</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">CenterHorizontally</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">app_name</span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">style</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">typography</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">titleLarge</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">)</span>
      
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">GameLayout</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fillMaxWidth</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">wrapContentHeight</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">padding</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">mediumPadding</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">Column</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fillMaxWidth</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">padding</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">mediumPadding</span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">verticalArrangement</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Arrangement</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">spacedBy</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">mediumPadding</span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">horizontalAlignment</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Alignment</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">CenterHorizontally</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">Button</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fillMaxWidth</span><span class="devsite-syntax-p">(),</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">onClick</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">                    </span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">submit</span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">                    </span><span class="devsite-syntax-n">fontSize</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">16.</span><span class="devsite-syntax-n">sp</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">}</span>
      
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">OutlinedButton</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">onClick</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fillMaxWidth</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">                    </span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">skip</span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">                    </span><span class="devsite-syntax-n">fontSize</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">16.</span><span class="devsite-syntax-n">sp</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span>
      
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">GameStatus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">score</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">0</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">padding</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-m">20.</span><span class="devsite-syntax-n">dp</span><span class="devsite-syntax-p">))</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <p>Les événements de clic de bouton ne sont pas implémentés dans le code de démarrage. Vous allez implémenter ces événements au cours de cet atelier.</p>
      <p><strong>FinalScoreDialog</strong></p>
      <p>Le composable <code translate="no" dir="ltr">FinalScoreDialog</code> affiche une boîte de dialogue, c'est-à-dire une petite fenêtre qui invite l'utilisateur à effectuer les actions <strong>Play Again</strong> (Rejouer) ou <strong>Exit</strong> (Quitter le jeu). Plus tard dans cet atelier de programmation, vous allez implémenter une logique pour afficher cette boîte de dialogue à la fin du jeu.</p>
      <p class="image-container"><img alt="dba2d9ea62aaa982.png" title="Écran de l'application affichant la boîte de dialogue du score" style="width: 251.22px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/dba2d9ea62aaa982.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/dba2d9ea62aaa982_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/dba2d9ea62aaa982_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/dba2d9ea62aaa982_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/dba2d9ea62aaa982_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/dba2d9ea62aaa982_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/dba2d9ea62aaa982_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/dba2d9ea62aaa982_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/dba2d9ea62aaa982_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/dba2d9ea62aaa982_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/dba2d9ea62aaa982_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/dba2d9ea62aaa982_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// No need to copy, this is included in the starter code.</span>
      
      <span class="devsite-syntax-nd">@Composable</span>
      <span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">FinalScoreDialog</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">score</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Int</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">onPlayAgain</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Unit</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span>
      <span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">activity</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">LocalContext</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">current</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">as</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Activity</span><span class="devsite-syntax-p">)</span>
      
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">AlertDialog</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">onDismissRequest</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-c1">// Dismiss the dialog when the user clicks outside the dialog or on the back</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-c1">// button. If you want to disable that functionality, simply use an empty</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-c1">// onDismissRequest.</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">title</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">congratulations</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">you_scored</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">score</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">dismissButton</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">TextButton</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">onClick</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">                    </span><span class="devsite-syntax-n">activity</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">finish</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">exit</span><span class="devsite-syntax-p">))</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">confirmButton</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">TextButton</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">onClick</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">onPlayAgain</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">play_again</span><span class="devsite-syntax-p">))</span>
      <span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      
              </google-codelab-step>
      
              <google-codelab-step label="Notions fondamentales sur l'architecture des applications" duration="0" step="3">
      
                <h2 class="step-title" id="3" data-text="Notions fondamentales sur l'architecture des applications" tabindex="-1">
                    4. Notions fondamentales sur l'architecture des applications
                </h2>
                <p>L'architecture d'une application vous fournit les principes fondamentaux qui vous aideront à répartir les responsabilités de l'application dans les différentes classes. Une architecture d'application performante vous permet de faire évoluer votre projet et d'y ajouter des fonctionnalités supplémentaires. L'architecture peut également faciliter le travail en équipe.</p>
      <p>Les <a href="https://developer.android.com/jetpack/guide?hl=fr#common-principles" target="_blank">principes fondamentaux de l'architecture des applications</a> sont la <strong>séparation des tâches</strong> et le <strong>contrôle de l'interface utilisateur à partir d'un modèle</strong>.</p>
      <p><strong>Séparation des tâches</strong></p>
      <p>Selon le principe de conception de séparation des tâches, l'application doit être divisée en classes, chacune ayant des responsabilités distinctes.</p>
      <p><strong>Contrôle de l'UI à partir d'un modèle</strong></p>
      <p>Le principe de contrôle de l'UI à partir d'un modèle indique que vous devez contrôler votre UI à l'aide d'un modèle, de préférence un modèle persistant. Les modèles sont des composants chargés de gérer les données d'une appli. Ils sont indépendants des éléments d'UI et des composants de votre appli et ne sont donc pas concernés par le cycle de vie de l'appli, ni par les préoccupations qui en découlent.</p>
      <h2 is-upgraded="" id="recommended-app-architecture" data-text="Architecture d'application recommandée" tabindex="-1">Architecture d'application recommandée</h2>
      <p>Compte tenu des principes fondamentaux de l'architecture des applications mentionnés dans la section précédente, chaque application doit comporter au moins deux couches :</p>
      <ul>
      <li><strong>Couche d'interface utilisateur</strong> : une couche qui affiche les données de l'application à l'écran, mais qui reste indépendante des données.</li>
      <li><strong>Couche de données</strong> : une couche qui stocke, récupère et expose les données de l'application.</li>
      </ul>
      <p>Vous pouvez ajouter une autre couche, appelée couche de domaine, pour simplifier et réutiliser les interactions entre l'interface utilisateur et les couches de données. Cette couche est facultative et dépasse le cadre de cet atelier.</p>
      <h2 is-upgraded="" id="heading" data-text="" tabindex="-1"><img alt="a4da6fa5c1c9fed5.png" title="Schéma de l'architecture avec la couche d'interface utilisateur, la couche de domaine et la couche de données" style="width: 334.40px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a4da6fa5c1c9fed5.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a4da6fa5c1c9fed5_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a4da6fa5c1c9fed5_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a4da6fa5c1c9fed5_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a4da6fa5c1c9fed5_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a4da6fa5c1c9fed5_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a4da6fa5c1c9fed5_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a4da6fa5c1c9fed5_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a4da6fa5c1c9fed5_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a4da6fa5c1c9fed5_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a4da6fa5c1c9fed5_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a4da6fa5c1c9fed5_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></h2>
      <aside class="special"><p><strong>Remarque</strong> : Dans ce guide, les flèches des schémas représentent les dépendances entre les classes. Par exemple, la couche du domaine dépend des classes de la couche de données.</p>
      </aside>
      <h3 is-upgraded="" id="ui-layer" data-text="Couche de l'interface utilisateur" tabindex="-1">Couche d'interface utilisateur</h3>
      <p>Le rôle de la couche d'interface utilisateur, ou couche de présentation, est d'afficher les données de l'application à l'écran. Chaque fois que les données changent en raison d'une interaction utilisateur (p. ex. l'appui sur un bouton), l'interface utilisateur doit se mettre à jour pour refléter les modifications.</p>
      <p>La couche de l'interface utilisateur contient les composants suivants :</p>
      <ul>
      <li><strong>Éléments d'interface utilisateur</strong> : les composants qui affichent les données à l'écran. Pour créer ces éléments, utilisez <a href="https://developer.android.com/jetpack/compose?hl=fr" target="_blank">Jetpack Compose</a>.</li>
      <li><strong>Conteneurs d'états</strong> : les composants qui contiennent les données, les exposent à l'interface utilisateur et gèrent la logique de l'application. Par exemple, un <a href="https://developer.android.com/topic/libraries/architecture/viewmodel?hl=fr" target="_blank">ViewModel</a> est un conteneur d'état.</li>
      </ul>
      <p class="image-container"><img alt="6eaee5b38ec247ae.png" title="ViewModel expose les données de l'application à la couche de l'interface utilisateur  " style="width: 469.38px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6eaee5b38ec247ae.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6eaee5b38ec247ae_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6eaee5b38ec247ae_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6eaee5b38ec247ae_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6eaee5b38ec247ae_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6eaee5b38ec247ae_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6eaee5b38ec247ae_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6eaee5b38ec247ae_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6eaee5b38ec247ae_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6eaee5b38ec247ae_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6eaee5b38ec247ae_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6eaee5b38ec247ae_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <h3 is-upgraded="" id="viewmodel" data-text="ViewModel" tabindex="-1">ViewModel</h3>
      <p>Le composant <code translate="no" dir="ltr">ViewModel</code> conserve et expose l'état utilisé par l'UI. L'état de l'interface utilisateur correspond aux données d'application transformées par le <code translate="no" dir="ltr">ViewModel</code>. <code translate="no" dir="ltr">ViewModel</code> permet à votre application de suivre le principe fondamental de l'architecture consistant à contrôler l'UI à partir du modèle.</p>
      <p><code translate="no" dir="ltr">ViewModel</code> stocke les données liées à l'application qui ne sont pas détruites lorsque le framework Android détruit et recrée l'activité. Contrairement à l'instance d'activité, les objets <code translate="no" dir="ltr">ViewModel</code> ne sont pas détruits. L'application conserve automatiquement les objets <code translate="no" dir="ltr">ViewModel</code> lors des modifications de configuration pour que les données détenues par ces objets soient immédiatement disponibles après la recomposition.</p>
      <p>Pour implémenter <code translate="no" dir="ltr">ViewModel</code> dans votre application, étendez la classe <code translate="no" dir="ltr">ViewModel</code>, qui provient de la bibliothèque de composants d'architecture, et utilisez-la pour stocker les données de l'application.</p>
      <h3 is-upgraded="" id="ui-state" data-text="État de l'interface utilisateur" tabindex="-1">État de l'interface utilisateur</h3>
      <p>L'interface utilisateur correspond à ce que l'utilisateur voit, tandis que l'état de l'interface utilisateur correspond à ce qu'il devrait voir selon l'application. L'interface utilisateur est la représentation visuelle de son état. Toute modification apportée à l'état de l'UI est immédiatement répercutée dans l'interface.</p>
      <p class="image-container"><img alt="9cfedef1750ddd2c.png" style="width: 624.00px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/9cfedef1750ddd2c.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/9cfedef1750ddd2c_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/9cfedef1750ddd2c_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/9cfedef1750ddd2c_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/9cfedef1750ddd2c_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/9cfedef1750ddd2c_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/9cfedef1750ddd2c_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/9cfedef1750ddd2c_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/9cfedef1750ddd2c_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/9cfedef1750ddd2c_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/9cfedef1750ddd2c_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/9cfedef1750ddd2c_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <p><em>L'UI est le résultat d'une liaison entre des éléments d'interface utilisateur et un état d'interface utilisateur.</em></p>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// Example of UI state definition, do not copy over</span>
      
      <span class="devsite-syntax-kd">data</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">class</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nc">NewsItemUiState</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">title</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">body</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">bookmarked</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Boolean</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">false</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">...</span>
      <span class="devsite-syntax-p">)</span>
      </code></pre></devsite-code>
      <h3 is-upgraded="" id="immutability" data-text="Immuabilité" tabindex="-1"><strong>Immuabilité</strong></h3>
      <p>Dans l'exemple ci-dessus, la définition de l'état de l'interface utilisateur est immuable. Les objets immuables vous assurent que plusieurs sources ne modifient pas instantanément l'état de l'appli. Cette protection libère l'interface utilisateur, ce qui lui permet de se concentrer sur un seul rôle : lire l'état et mettre à jour les éléments de l'interface utilisateur en conséquence. Vous ne devez donc jamais modifier directement l'état de l'UI, sauf si l'UI elle-même est la seule source de ses données. Si vous ne respectez pas ce principe, alors il existera plusieurs sources de vérité pour une même information, ce qui entraînera des incohérences au niveau des données et des bugs.</p>
      
              </google-codelab-step>
      
              <google-codelab-step label="Ajouter un ViewModel" duration="0" step="4">
      
                <h2 class="step-title" id="4" data-text="Ajouter un ViewModel" tabindex="-1">
                    5. Ajouter un ViewModel
                </h2>
                <p>Dans cette tâche, vous allez ajouter un <code translate="no" dir="ltr">ViewModel</code> à votre application pour y stocker l'état de l'UI de votre jeu (mot mélangé, nombre de mots et score). Pour résoudre le problème dans le code de démarrage identifié à la section précédente, vous devez enregistrer les données du jeu dans <code translate="no" dir="ltr">ViewModel</code>.</p>
      <ol type="1">
      <li>Ouvrez <code translate="no" dir="ltr">build.gradle.kts (Module :app)</code>, faites défiler la page jusqu'au bloc <code translate="no" dir="ltr">dependencies</code> et ajoutez la dépendance suivante pour <code translate="no" dir="ltr">ViewModel</code>. Cette dépendance permet d'ajouter le ViewModel tenant compte du cycle de vie à votre appli Compose.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-n">dependencies</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-c1">// other dependencies</span>
      
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">implementation</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"androidx.lifecycle:lifecycle-viewmodel-compose:2.6.1"</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-c1">//...</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="2">
      <li>Dans le package <code translate="no" dir="ltr">ui</code>, créez une classe/un fichier Kotlin appelé <code translate="no" dir="ltr">GameViewModel</code>. Vous l'étendrez à partir de la classe <code translate="no" dir="ltr">ViewModel</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-k">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.lifecycle.ViewModel</span>
      
      <span class="devsite-syntax-kd">class</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nc">GameViewModel</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ViewModel</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="3">
      <li>Dans le package <code translate="no" dir="ltr">ui</code>, ajoutez une classe de modèle pour l'UI d'état, appelée <code translate="no" dir="ltr">GameUiState</code>. Transformez-la en une classe de données et ajoutez une variable pour le mot mélangé.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">data</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">class</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nc">GameUiState</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">currentScrambledWord</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">""</span>
      <span class="devsite-syntax-p">)</span>
      </code></pre></devsite-code>
      <h2 is-upgraded="" id="stateflow" data-text="StateFlow" tabindex="-1">StateFlow</h2>
      <p><a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-state-flow/" target="_blank"><code translate="no" dir="ltr">StateFlow</code></a> est un flux observable de conteneur de données qui émet les mises à jour de l'état actuel et du nouvel état. Sa propriété <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-state-flow/value.html" target="_blank"><code translate="no" dir="ltr">value</code></a> reflète la valeur de l'état actuel. Pour mettre à jour l'état et l'envoyer au flux, attribuez une nouvelle valeur à la propriété de valeur de la classe <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-mutable-state-flow/index.html" target="_blank"><code translate="no" dir="ltr">MutableStateFlow</code></a>.</p>
      <p>Dans Android, <code translate="no" dir="ltr">StateFlow</code> fonctionne bien avec les classes qui doivent conserver un état immuable observable.</p>
      <p>Un <code translate="no" dir="ltr">StateFlow</code> peut être exposé à partir de <code translate="no" dir="ltr">GameUiState</code> afin que les composables puissent écouter les mises à jour de l'état de l'interface utilisateur et faire en sorte que l'état de l'écran survive aux changements de configuration.</p>
      <p>Dans la classe <code translate="no" dir="ltr">GameViewModel</code>, ajoutez la propriété <code translate="no" dir="ltr">_uiState</code> suivante.</p>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-k">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">kotlinx.coroutines.flow.MutableStateFlow</span>
      
      <span class="devsite-syntax-c1">// Game UI state</span>
      <span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">_uiState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">MutableStateFlow</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">GameUiState</span><span class="devsite-syntax-p">())</span>
      </code></pre></devsite-code>
      <h2 is-upgraded="" id="backing-property" data-text="Propriété de support" tabindex="-1">Propriété de support</h2>
      <p>Une propriété de support vous permet de renvoyer un élément d'un getter qui n'est pas l'objet exact.</p>
      <p>Pour la propriété <code translate="no" dir="ltr">var</code>, le framework Kotlin génère des getters et des setters.</p>
      <p>Pour les méthodes getter et setter, vous pouvez forcer l'une de ces méthodes (ou les deux) afin de personnaliser leur comportement. Pour implémenter une propriété de support, vous devez forcer la méthode getter afin de renvoyer une version en lecture seule de vos données. L'exemple suivant vous montre une propriété de support.</p>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">//Example code, no need to copy over</span>
      
      <span class="devsite-syntax-c1">// Declare private mutable variable that can only be modified</span>
      <span class="devsite-syntax-c1">// within the class it is declared.</span>
      <span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">var</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">_count</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">0</span>
      
      <span class="devsite-syntax-c1">// Declare another public immutable field and override its getter method.</span>
      <span class="devsite-syntax-c1">// Return the private property's value in the getter method.</span>
      <span class="devsite-syntax-c1">// When count is accessed, the get() function is called and</span>
      <span class="devsite-syntax-c1">// the value of _count is returned.</span>
      <span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">count</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Int</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">get</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">_count</span>
      </code></pre></devsite-code>
      <p>Imaginons que vous souhaitiez que les données de l'application soient privées pour <code translate="no" dir="ltr">ViewModel</code> :</p>
      <p>Dans la classe <code translate="no" dir="ltr">ViewModel</code> :</p>
      <ul>
      <li>La propriété <code translate="no" dir="ltr">_count</code> est <code translate="no" dir="ltr">private</code> (privée) et modifiable. Par conséquent, elle n'est accessible et modifiable que dans la classe <code translate="no" dir="ltr">ViewModel</code>.</li>
      </ul>
      <p>En dehors de la classe <code translate="no" dir="ltr">ViewModel</code> :</p>
      <ul>
      <li>Dans Kotlin, le modificateur de visibilité par défaut est <code translate="no" dir="ltr">public</code>. <code translate="no" dir="ltr">count</code> est donc public et accessible à partir d'autres classes, comme les contrôleurs d'interface utilisateur. Un type <code translate="no" dir="ltr">val</code> ne peut pas avoir de setter. Comme il est immuable et en lecture seule, vous pouvez uniquement remplacer la méthode <code translate="no" dir="ltr">get()</code>. Lorsqu'une classe externe accède à cette propriété, elle renvoie la valeur de <code translate="no" dir="ltr">_count</code>, qui n'est pas modifiable. Cette propriété de support protège les données de l'application à l'intérieur de <code translate="no" dir="ltr">ViewModel</code> contre les modifications indésirables et non sécurisées effectuées par les classes externes. Elle permet également aux appelants externes d'accéder à sa valeur de façon sécurisée.</li>
      </ul>
      <ol type="1">
      <li>Dans le fichier <code translate="no" dir="ltr">GameViewModel.kt</code>, ajoutez une propriété de support à <code translate="no" dir="ltr">uiState</code> nommée <code translate="no" dir="ltr">_uiState</code>. Nommez la propriété <code translate="no" dir="ltr">uiState</code> et utilisez le type <code translate="no" dir="ltr">StateFlow&lt;GameUiState&gt;</code>.</li>
      </ol>
      <p><code translate="no" dir="ltr">_uiState</code> est désormais accessible et modifiable uniquement dans <code translate="no" dir="ltr">GameViewModel</code>. L'interface utilisateur peut lire sa valeur à l'aide de la propriété en lecture seule, <code translate="no" dir="ltr">uiState</code>. Vous pourrez corriger l'erreur d'initialisation à l'étape suivante.</p>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-k">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">kotlinx.coroutines.flow.StateFlow</span>
      
      <span class="devsite-syntax-c1">// Game UI state</span>
      
      <span class="devsite-syntax-c1">// Backing property to avoid state updates from other classes</span>
      <span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">_uiState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">MutableStateFlow</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">GameUiState</span><span class="devsite-syntax-p">())</span>
      <span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">uiState</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">StateFlow&lt;GameUiState&gt;</span>
      </code></pre></devsite-code>
      <ol type="1" start="2">
      <li>Définissez <code translate="no" dir="ltr">uiState</code> sur <code translate="no" dir="ltr">_uiState.asStateFlow()</code>.</li>
      </ol>
      <p>Le <code translate="no" dir="ltr">asStateFlow()</code> transforme ce flux d'état modifiable en un flux d'état en <em>lecture seule</em>.</p>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-k">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">kotlinx.coroutines.flow.StateFlow</span>
      <span class="devsite-syntax-k">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">kotlinx.coroutines.flow.asStateFlow</span>
      
      <span class="devsite-syntax-c1">// Game UI state</span>
      <span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">_uiState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">MutableStateFlow</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">GameUiState</span><span class="devsite-syntax-p">())</span>
      <span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">uiState</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">StateFlow&lt;GameUiState&gt;</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">_uiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">asStateFlow</span><span class="devsite-syntax-p">()</span>
      </code></pre></devsite-code>
      <h2 is-upgraded="" id="display-random-scrambled-word" data-text="Afficher un mot mélangé aléatoire" tabindex="-1">Afficher un mot mélangé aléatoire</h2>
      <p>Dans cette tâche, vous allez ajouter des méthodes d'assistance pour choisir un mot aléatoire dans <code translate="no" dir="ltr">WordsData.kt</code> et mélanger les lettres.</p>
      <ol type="1">
      <li>Dans <code translate="no" dir="ltr">GameViewModel</code>, ajoutez une propriété appelée <code translate="no" dir="ltr">currentWord</code> de type <code translate="no" dir="ltr">String</code> pour enregistrer le mot mélangé actuel.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">lateinit</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">var</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">currentWord</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span>
      </code></pre></devsite-code>
      <ol type="1" start="2">
      <li>Ajoutez une méthode d'assistance pour choisir un mot aléatoire dans la liste et le lire en mode aléatoire. Nommez-le <code translate="no" dir="ltr">pickRandomWordAndShuffle()</code> sans paramètre d'entrée et faites-lui renvoyer une <code translate="no" dir="ltr">String</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-k">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.example.unscramble.data.allWords</span>
      
      <span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">pickRandomWordAndShuffle</span><span class="devsite-syntax-p">():</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">// Continue picking up a new random word until you get one that hasn't been used before</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">currentWord</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">allWords</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">random</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">usedWords</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">contains</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">currentWord</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">pickRandomWordAndShuffle</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">else</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">usedWords</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">add</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">currentWord</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">shuffleCurrentWord</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">currentWord</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <p>Android Studio signale une erreur pour la variable et la fonction non définies.</p>
      <ol type="1" start="3">
      <li>Dans <code translate="no" dir="ltr">GameViewModel</code>, ajoutez la propriété suivante après la propriété <code translate="no" dir="ltr">currentWord</code> pour servir d'ensemble modifiable qui stockera les mots utilisés dans le jeu.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// Set of words used in the game</span>
      <span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">var</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">usedWords</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">MutableSet&lt;String&gt;</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mutableSetOf</span><span class="devsite-syntax-p">()</span>
      </code></pre></devsite-code>
      <ol type="1" start="4">
      <li>Ajoutez une autre méthode d'assistance pour lire le mot actuel <code translate="no" dir="ltr">shuffleCurrentWord()</code> en mode aléatoire, qui accepte une <code translate="no" dir="ltr">String</code> et renvoie la <code translate="no" dir="ltr">String</code> dans un ordre aléatoire.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">shuffleCurrentWord</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">word</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">):</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">tempWord</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">word</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">toCharArray</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">// Scramble the word</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">tempWord</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">shuffle</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-k">while</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">tempWord</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">equals</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">word</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">tempWord</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">shuffle</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">tempWord</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="5">
      <li>Ajoutez une fonction d'assistance appelée <code translate="no" dir="ltr">resetGame()</code> permettant d'initialiser le jeu. Vous utiliserez cette fonction plus tard pour démarrer et redémarrer le jeu. Dans cette fonction, effacez tous les mots de l'ensemble <code translate="no" dir="ltr">usedWords</code> et initialisez <code translate="no" dir="ltr">_uiState</code>. Choisissez un nouveau mot pour <code translate="no" dir="ltr">currentScrambledWord</code> avec <code translate="no" dir="ltr">pickRandomWordAndShuffle()</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">resetGame</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">usedWords</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">clear</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">_uiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">value</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">GameUiState</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">currentScrambledWord</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">pickRandomWordAndShuffle</span><span class="devsite-syntax-p">())</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="6">
      <li>Ajoutez un bloc <code translate="no" dir="ltr">init</code> au <code translate="no" dir="ltr">GameViewModel</code> et appelez <code translate="no" dir="ltr">resetGame()</code> à partir de celui-ci.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-k">init</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">resetGame</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <p>Lorsque vous compilez votre appli, vous ne verrez toujours aucune modification dans l'interface utilisateur. Vous ne transmettez pas les données du <code translate="no" dir="ltr">ViewModel</code> aux composables de <code translate="no" dir="ltr">GameScreen</code>.</p>
      
              </google-codelab-step>
      
              <google-codelab-step label="Structurer votre interface utilisateur Compose" duration="0" step="5">
      
                <h2 class="step-title" id="5" data-text="Structurer votre interface utilisateur Compose" tabindex="-1">
                    6. Structurer votre interface utilisateur Compose
                </h2>
                <p>Dans Compose, le seul moyen de mettre à jour l'UI est de modifier l'état de l'appli. Vous pouvez contrôler l'état de l'interface utilisateur. À chaque modification de l'interface utilisateur, Compose recrée les parties de l'arborescence qui ont été modifiées. Les composables peuvent accepter des événements "state" et "expose". Par exemple, un objet <code translate="no" dir="ltr">TextField</code>/<code translate="no" dir="ltr">OutlinedTextField</code> accepte une valeur et expose un rappel <code translate="no" dir="ltr">onValueChange</code> qui demande au gestionnaire de rappel de modifier la valeur.</p>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">//Example code no need to copy over</span>
      
      <span class="devsite-syntax-kd">var</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">name</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">by</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">remember</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mutableStateOf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">""</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-n">OutlinedTextField</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">value</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">onValueChange</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nb">it</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">label</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Name"</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">)</span>
      </code></pre></devsite-code>
      <p>Étant donné que les composables acceptent des événements "state" et "expose", le modèle de flux de données unidirectionnel s'adapte bien à Jetpack Compose. Ce guide explique comment implémenter le modèle de flux de données unidirectionnel, implémenter des événements et des conteneurs d'état, et utiliser les <code translate="no" dir="ltr">ViewModel</code> dans Compose.</p>
      <h2 is-upgraded="" id="unidirectional-data-flow" data-text="Flux de données unidirectionnel" tabindex="-1"><strong>Flux de données unidirectionnel</strong></h2>
      <p>Un <em>flux de données unidirectionnel</em> (UDF) est un modèle de conception dans lequel l'état redescend et les événements remontent. En suivant le flux de données unidirectionnel, vous pouvez dissocier les composables qui affichent l'état dans l'interface utilisateur des parties de votre application qui stockent et modifient l'état.</p>
      <p>La boucle de mise à jour de l'UI pour une application utilisant un flux de données unidirectionnel se présente comme suit :</p>
      <ul>
      <li><strong>Événement</strong> : une partie de l'interface utilisateur génère un événement et le fait remonter (p. ex. un clic sur le bouton transmis au ViewModel qui va le gérer), ou un événement transmis à partir d'autres couches de votre application (p. ex. un message qui indique l'expiration de la session utilisateur).</li>
      <li><strong>Modification d'état</strong> : un gestionnaire d'événements peut modifier l'état.</li>
      <li><strong>État de l'affichage</strong> : le conteneur d'état transmet l'état, et l'interface utilisateur l'affiche.</li>
      </ul>
      <p class="image-container"><img alt="61eb7bcdcff42227.png" title="L'UI est le résultat d'une liaison entre des éléments d'interface utilisateur et un état d'interface utilisateur." style="width: 424.25px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/61eb7bcdcff42227.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/61eb7bcdcff42227_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/61eb7bcdcff42227_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/61eb7bcdcff42227_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/61eb7bcdcff42227_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/61eb7bcdcff42227_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/61eb7bcdcff42227_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/61eb7bcdcff42227_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/61eb7bcdcff42227_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/61eb7bcdcff42227_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/61eb7bcdcff42227_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/61eb7bcdcff42227_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <p>L'utilisation du modèle de flux de données unidirectionnel (UDF) pour l'architecture des applications a les conséquences suivantes :</p>
      <ul>
      <li><code translate="no" dir="ltr">ViewModel</code> conserve et expose l'état utilisé par l'UI.</li>
      <li>L'état de l'interface utilisateur correspond aux données d'application transformées par <code translate="no" dir="ltr">ViewModel</code>.</li>
      <li>L'interface utilisateur informe <code translate="no" dir="ltr">ViewModel</code> des événements d'utilisateurs.</li>
      <li><code translate="no" dir="ltr">ViewModel</code> gère les actions de l'utilisateur et met à jour l'état.</li>
      <li>L'état mis à jour est renvoyé à l'interface utilisateur, puis affiché.</li>
      <li>Ce processus se répète pour tout événement qui provoque une mutation d'état.</li>
      </ul>
      <h2 is-upgraded="" id="pass-the-data" data-text="Transmettre les données" tabindex="-1">Transmettre les données</h2>
      <p>Transmettez l'instance du ViewModel à l'interface utilisateur, c'est-à-dire de <code translate="no" dir="ltr">GameViewModel</code> à <code translate="no" dir="ltr">GameScreen()</code> dans le fichier <strong><code translate="no" dir="ltr">GameScreen.kt</code></strong>. Dans <code translate="no" dir="ltr">GameScreen()</code>, utilisez l'instance du ViewModel pour accéder à <code translate="no" dir="ltr">uiState</code> à l'aide de <code translate="no" dir="ltr">collectAsState()</code>.</p>
      <p>La fonction <code translate="no" dir="ltr">collectAsState()</code> collecte les valeurs de ce <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-state-flow/index.html" target="_blank"><code translate="no" dir="ltr">StateFlow</code></a> et représente sa dernière valeur à l'aide de <a href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/State?hl=fr" target="_blank"><code translate="no" dir="ltr">State</code></a>. <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-state-flow/value.html" target="_blank"><code translate="no" dir="ltr">StateFlow.value</code></a> est utilisée comme valeur initiale. Chaque fois qu'une nouvelle valeur est ajoutée dans <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-state-flow/index.html" target="_blank"><code translate="no" dir="ltr">StateFlow</code></a>, la valeur renvoyée <a href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/State?hl=fr" target="_blank"><code translate="no" dir="ltr">State</code></a> se met à jour, ce qui entraîne la recomposition de chaque utilisation de <a href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/State?hl=fr#value()" target="_blank"><code translate="no" dir="ltr">State.value</code></a>.</p>
      <ol type="1">
      <li>Dans la fonction <code translate="no" dir="ltr">GameScreen</code>, transmettez un deuxième argument du type <code translate="no" dir="ltr">GameViewModel</code> avec une valeur par défaut de <code translate="no" dir="ltr">viewModel()</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-k">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.lifecycle.viewmodel.compose.viewModel</span>
      
      <span class="devsite-syntax-nd">@Composable</span>
      <span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">GameScreen</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">gameViewModel</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">GameViewModel</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">viewModel</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">// ...</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <p class="image-container"><img alt="de93b81a92416c23.png" title="Transmission de l'interface d'état du jeu de ViewModel au composable GameScreen" style="width: 361.17px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/de93b81a92416c23.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/de93b81a92416c23_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/de93b81a92416c23_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/de93b81a92416c23_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/de93b81a92416c23_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/de93b81a92416c23_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/de93b81a92416c23_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/de93b81a92416c23_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/de93b81a92416c23_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/de93b81a92416c23_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/de93b81a92416c23_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/de93b81a92416c23_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <ol type="1" start="2">
      <li>Dans la fonction <code translate="no" dir="ltr">GameScreen()</code>, ajoutez une variable appelée <code translate="no" dir="ltr">gameUiState</code>. Utilisez le délégué <code translate="no" dir="ltr">by</code> et appelez <code translate="no" dir="ltr">collectAsState()</code> sur <code translate="no" dir="ltr">uiState</code>.</li>
      </ol>
      <p>Grâce à cette approche, lorsque la valeur <code translate="no" dir="ltr">uiState</code> est modifiée, la recomposition a lieu pour les composables utilisant la valeur <code translate="no" dir="ltr">gameUiState</code>.</p>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-k">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.compose.runtime.collectAsState</span>
      <span class="devsite-syntax-k">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.compose.runtime.getValue</span>
      
      <span class="devsite-syntax-nd">@Composable</span>
      <span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">GameScreen</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">// ...</span>
      <span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">gameUiState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">by</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameViewModel</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">uiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">collectAsState</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">// ...</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="3">
      <li>Transmettez <code translate="no" dir="ltr">gameUiState.currentScrambledWord</code> au composable <code translate="no" dir="ltr">GameLayout()</code>. Vous ajouterez l'argument à une étape ultérieure. Pour le moment, vous pouvez ignorer l'erreur.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-n">GameLayout</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">currentScrambledWord</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameUiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">currentScrambledWord</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fillMaxWidth</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">wrapContentHeight</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">padding</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">mediumPadding</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-p">)</span>
      </code></pre></devsite-code>
      <ol type="1" start="4">
      <li>Ajoutez <code translate="no" dir="ltr">currentScrambledWord</code> comme autre paramètre à la fonction composable <code translate="no" dir="ltr">GameLayout()</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-nd">@Composable</span>
      <span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">GameLayout</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">currentScrambledWord</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span>
      <span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="5">
      <li>Mettez à jour la fonction composable <code translate="no" dir="ltr">GameLayout()</code> pour afficher <code translate="no" dir="ltr">currentScrambledWord</code>. Définissez le paramètre <code translate="no" dir="ltr">text</code> du premier champ de texte de la colonne sur <code translate="no" dir="ltr">currentScrambledWord</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-nd">@Composable</span>
      <span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">GameLayout</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">// ...</span>
      <span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">Column</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">verticalArrangement</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Arrangement</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">spacedBy</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-m">24.</span><span class="devsite-syntax-n">dp</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">currentScrambledWord</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">fontSize</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">45.</span><span class="devsite-syntax-n">sp</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">align</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Alignment</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">CenterHorizontally</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">//...</span>
      <span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="6">
      <li>Exécutez et créez l'application. Le mot mélangé doit s'afficher.</li>
      </ol>
      <p class="image-container"><img alt="6d93a8e1ba5dad6f.png" title="Écran de jeu avec un mot mélangé" style="width: 249.60px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6d93a8e1ba5dad6f.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6d93a8e1ba5dad6f_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6d93a8e1ba5dad6f_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6d93a8e1ba5dad6f_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6d93a8e1ba5dad6f_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6d93a8e1ba5dad6f_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6d93a8e1ba5dad6f_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6d93a8e1ba5dad6f_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6d93a8e1ba5dad6f_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6d93a8e1ba5dad6f_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6d93a8e1ba5dad6f_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/6d93a8e1ba5dad6f_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <h2 is-upgraded="" id="display-the-guess-word" data-text="Afficher le mot à deviner" tabindex="-1">Afficher le mot à deviner</h2>
      <p>Dans le composable <code translate="no" dir="ltr">GameLayout()</code>, la mise à jour de la proposition de l'utilisateur est l'un des rappels d'événement qui passent de <code translate="no" dir="ltr">GameScreen</code> à <code translate="no" dir="ltr">ViewModel</code>. Les données <code translate="no" dir="ltr">gameViewModel.userGuess</code> seront transférées de <code translate="no" dir="ltr">ViewModel</code> vers <code translate="no" dir="ltr">GameScreen</code>.</p>
      <p class="image-container"><img alt="Les rappels d'événement, onKeyboardDone et onUserGuessChanged sont transmis de l'UI à ViewModel" title="Transmission du mot mélangé et de la proposition de l'utilisateur à l'UI" style="width: 624.00px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/af3b1fed1f840c63.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/af3b1fed1f840c63_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/af3b1fed1f840c63_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/af3b1fed1f840c63_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/af3b1fed1f840c63_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/af3b1fed1f840c63_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/af3b1fed1f840c63_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/af3b1fed1f840c63_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/af3b1fed1f840c63_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/af3b1fed1f840c63_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/af3b1fed1f840c63_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/af3b1fed1f840c63_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <ol type="1">
      <li>Dans le fichier <strong><code translate="no" dir="ltr">GameScreen.kt</code></strong>, dans le composable <code translate="no" dir="ltr">GameLayout()</code>, définissez <code translate="no" dir="ltr">onValueChange</code> sur <code translate="no" dir="ltr">onUserGuessChanged</code> et <code translate="no" dir="ltr">onKeyboardDone()</code> sur l'action clavier <code translate="no" dir="ltr">onDone</code>. Vous corrigerez les erreurs à l'étape suivante.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-n">OutlinedTextField</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">value</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">""</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">singleLine</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fillMaxWidth</span><span class="devsite-syntax-p">(),</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onValueChange</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">onUserGuessChanged</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">label</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">enter_your_word</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">isError</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">false</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">keyboardOptions</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">KeyboardOptions</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">Default</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">copy</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">imeAction</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ImeAction</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">Done</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">keyboardActions</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">KeyboardActions</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">onDone</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">onKeyboardDone</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">),</span>
      </code></pre></devsite-code>
      <ol type="1" start="2">
      <li>Dans la fonction composable <code translate="no" dir="ltr">GameLayout()</code>, ajoutez deux autres arguments : le lambda <code translate="no" dir="ltr">onUserGuessChanged</code> accepte un argument <code translate="no" dir="ltr">String</code> et ne renvoie rien, tandis que <code translate="no" dir="ltr">onKeyboardDone</code> ne prend rien et ne renvoie rien.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-nd">@Composable</span>
      <span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">GameLayout</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onUserGuessChanged</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Unit</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onKeyboardDone</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Unit</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">currentScrambledWord</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="3">
      <li>Dans l'appel de fonction <code translate="no" dir="ltr">GameLayout()</code>, ajoutez des arguments lambda pour <code translate="no" dir="ltr">onUserGuessChanged</code> et <code translate="no" dir="ltr">onKeyboardDone</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-n">GameLayout</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onUserGuessChanged</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameViewModel</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">updateUserGuess</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nb">it</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onKeyboardDone</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">currentScrambledWord</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameUiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">currentScrambledWord</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-p">)</span>
      </code></pre></devsite-code>
      <p>Vous allez bientôt définir la méthode <code translate="no" dir="ltr">updateUserGuess</code> dans <code translate="no" dir="ltr">GameViewModel</code>.</p>
      <ol type="1" start="4">
      <li>Dans le fichier <strong><code translate="no" dir="ltr">GameViewModel.kt</code></strong>, ajoutez une méthode appelée <code translate="no" dir="ltr">updateUserGuess()</code> qui accepte un argument <code translate="no" dir="ltr">String</code>, le mot proposé par l'utilisateur. Dans la fonction, mettez à jour le <code translate="no" dir="ltr">userGuess</code> avec la valeur <code translate="no" dir="ltr">guessedWord</code> transmise.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">updateUserGuess</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">guessedWord</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">){</span>
      <span class="devsite-syntax-w">     </span><span class="devsite-syntax-n">userGuess</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">guessedWord</span>
      <span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <p>Vous allez ensuite ajouter <code translate="no" dir="ltr">userGuess</code> dans le ViewModel.</p>
      <ol type="1" start="5">
      <li>Dans le fichier <code translate="no" dir="ltr">GameViewModel.kt</code>, ajoutez une propriété var appelée <code translate="no" dir="ltr">userGuess</code>. Utilisez <code translate="no" dir="ltr">mutableStateOf()</code> pour que Compose observe cette valeur et définisse la valeur initiale sur <code translate="no" dir="ltr">""</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-k">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.compose.runtime.mutableStateOf</span>
      <span class="devsite-syntax-k">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.compose.runtime.getValue</span>
      <span class="devsite-syntax-k">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.compose.runtime.setValue</span>
      
      <span class="devsite-syntax-kd">var</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">userGuess</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">by</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mutableStateOf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">""</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">set</span>
      </code></pre></devsite-code>
      <ol type="1" start="6">
      <li>Dans le fichier <code translate="no" dir="ltr">GameScreen.kt</code>, dans <code translate="no" dir="ltr">GameLayout()</code>, ajoutez un autre paramètre <code translate="no" dir="ltr">String</code> pour <code translate="no" dir="ltr">userGuess</code>. Définissez le paramètre <code translate="no" dir="ltr">value</code> de <code translate="no" dir="ltr">OutlinedTextField</code> sur <code translate="no" dir="ltr">userGuess</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">GameLayout</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">currentScrambledWord</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">userGuess</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onUserGuessChanged</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Unit</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onKeyboardDone</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Unit</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span>
      <span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">Column</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">verticalArrangement</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Arrangement</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">spacedBy</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-m">24.</span><span class="devsite-syntax-n">dp</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">//...</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">OutlinedTextField</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">value</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">userGuess</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-c1">//..</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="7">
      <li>Dans la fonction <code translate="no" dir="ltr">GameScreen</code>, mettez à jour l'appel de fonction <code translate="no" dir="ltr">GameLayout()</code> pour inclure le paramètre <code translate="no" dir="ltr">userGuess</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-n">GameLayout</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">currentScrambledWord</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameUiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">currentScrambledWord</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">userGuess</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameViewModel</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">userGuess</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onUserGuessChanged</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameViewModel</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">updateUserGuess</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nb">it</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onKeyboardDone</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">//...</span>
      <span class="devsite-syntax-p">)</span>
      </code></pre></devsite-code>
      <ol type="1" start="8">
      <li>Créez et exécutez votre application.</li>
      <li>Essayez de deviner le mot et entrez une proposition. Le champ de texte permet d'afficher la proposition de l'utilisateur.</li>
      </ol>
      <p class="image-container"><img alt="ed10c7f522495a.png" title="Écran de jeu avec la proposition de l'utilisateur dans le champ de texte " style="width: 249.60px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ed10c7f522495a.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ed10c7f522495a_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ed10c7f522495a_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ed10c7f522495a_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ed10c7f522495a_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ed10c7f522495a_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ed10c7f522495a_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ed10c7f522495a_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ed10c7f522495a_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ed10c7f522495a_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ed10c7f522495a_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ed10c7f522495a_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      
              </google-codelab-step>
      
              <google-codelab-step label="Valider le mot à deviner et modifier le score" duration="0" step="6">
      
                <h2 class="step-title" id="6" data-text="Valider le mot à deviner et modifier le score" tabindex="-1">
                    7. Vérifier le mot à deviner et modifier le score
                </h2>
                <p>Dans cette tâche, vous implémenterez une méthode permettant de vérifier la proposition de l'utilisateur, puis de mettre à jour le score du jeu ou d'afficher une erreur. Vous mettrez à jour l'interface d'état du jeu pour afficher le nouveau score et le nouveau mot plus tard.</p>
      <ol type="1">
      <li>Dans <code translate="no" dir="ltr">GameViewModel</code>, ajoutez une autre méthode appelée <code translate="no" dir="ltr">checkUserGuess()</code>.</li>
      <li>Dans la fonction <code translate="no" dir="ltr">checkUserGuess()</code>, ajoutez un bloc <code translate="no" dir="ltr">if else</code> pour vérifier que la proposition de l'utilisateur est identique à celle de <code translate="no" dir="ltr">currentWord</code>. Réinitialisez <code translate="no" dir="ltr">userGuess</code> pour vider la chaîne.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">checkUserGuess</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">userGuess</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">equals</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">currentWord</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ignoreCase</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">else</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">// Reset user guess</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">updateUserGuess</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">""</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="3">
      <li>Si la réponse de l'utilisateur est incorrecte, définissez <code translate="no" dir="ltr">isGuessedWordWrong</code> sur <code translate="no" dir="ltr">true</code>.   <a href="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-mutable-state-flow/index.html" target="_blank"><code translate="no" dir="ltr">MutableStateFlow&lt;T&gt;.</code></a> <a href="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/update.html" target="_blank"><code translate="no" dir="ltr">update()</code></a> met à jour <a href="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-mutable-state-flow/value.html" target="_blank"><code translate="no" dir="ltr">MutableStateFlow.value</code></a> avec la valeur spécifiée.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-k">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">kotlinx.coroutines.flow.update</span>
      
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">userGuess</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">equals</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">currentWord</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ignoreCase</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">else</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">// User's guess is wrong, show an error</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">_uiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">update</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">copy</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">isGuessedWordWrong</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <aside class="special"><p><strong>Remarque sur la méthode copy()</strong> : La fonction <code translate="no" dir="ltr">copy()</code> vous permet de copier un objet, ce qui vous permet de modifier certaines de ses propriétés sans rien changer d'autre.</p>
      <p>Par exemple :</p>
      <p><code translate="no" dir="ltr">val jack =</code> <code translate="no" dir="ltr">User(name =</code> <code translate="no" dir="ltr">"Jack", age =</code> <code translate="no" dir="ltr">1)</code></p>
      <p><code translate="no" dir="ltr">val olderJack = jack.copy(age =</code> <code translate="no" dir="ltr">2)</code></p>
      </aside>
      <ol type="1" start="4">
      <li>Dans la classe <code translate="no" dir="ltr">GameUiState</code>, ajoutez un <code translate="no" dir="ltr">Boolean</code> appelé <code translate="no" dir="ltr">isGuessedWordWrong</code> et initialisez-le sur <code translate="no" dir="ltr">false</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">data</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">class</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nc">GameUiState</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">currentScrambledWord</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">""</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">isGuessedWordWrong</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Boolean</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">false</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-p">)</span>
      </code></pre></devsite-code>
      <p>Vous transmettez ensuite le rappel d'événement <code translate="no" dir="ltr">checkUserGuess()</code> de <code translate="no" dir="ltr">GameScreen</code> à <code translate="no" dir="ltr">ViewModel</code> lorsque l'utilisateur clique sur le bouton <strong>Submit</strong> (Envoyer) ou sur la touche "OK" du clavier. Transmettez les données, <code translate="no" dir="ltr">gameUiState.isGuessedWordWrong</code> de <code translate="no" dir="ltr">ViewModel</code> à <code translate="no" dir="ltr">GameScreen</code>, pour définir l'erreur dans le champ de texte.</p>
      <p class="image-container"><img alt="7f05d04164aa4646.png" title="Organigramme illustrant le déplacement de l'événement de vérification du mot deviné par l'utilisateur vers le haut depuis l'écran de jeu vers le ViewModel du jeu" style="width: 624.00px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/7f05d04164aa4646.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/7f05d04164aa4646_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/7f05d04164aa4646_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/7f05d04164aa4646_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/7f05d04164aa4646_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/7f05d04164aa4646_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/7f05d04164aa4646_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/7f05d04164aa4646_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/7f05d04164aa4646_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/7f05d04164aa4646_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/7f05d04164aa4646_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/7f05d04164aa4646_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <ol type="1">
      <li>Dans le fichier <code translate="no" dir="ltr">GameScreen.kt</code>, à la fin de la fonction composable <code translate="no" dir="ltr">GameScreen()</code>, appelez <code translate="no" dir="ltr">gameViewModel.checkUserGuess()</code> dans l'expression lambda <code translate="no" dir="ltr">onClick</code> du bouton <strong>Submit</strong> (Envoyer).</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-n">Button</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">modifier</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fillMaxWidth</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">weight</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-m">1f</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">padding</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">start</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">8.</span><span class="devsite-syntax-n">dp</span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onClick</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameViewModel</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">checkUserGuess</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">submit</span><span class="devsite-syntax-p">))</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="2">
      <li>Dans la fonction composable <code translate="no" dir="ltr">GameScreen()</code>, mettez à jour l'appel de fonction <code translate="no" dir="ltr">GameLayout()</code> pour transmettre <code translate="no" dir="ltr">gameViewModel.checkUserGuess()</code> dans l'expression lambda <code translate="no" dir="ltr">onKeyboardDone</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-n">GameLayout</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">currentScrambledWord</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameUiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">currentScrambledWord</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">userGuess</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameViewModel</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">userGuess</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onUserGuessChanged</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameViewModel</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">updateUserGuess</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nb">it</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onKeyboardDone</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameViewModel</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">checkUserGuess</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">)</span>
      </code></pre></devsite-code>
      <ol type="1" start="3">
      <li>Dans la fonction composable <code translate="no" dir="ltr">GameLayout()</code>, ajoutez un paramètre de fonction pour <code translate="no" dir="ltr">Boolean</code> : <strong><code translate="no" dir="ltr">isGuessWrong</code></strong>.  Définissez le paramètre <strong><code translate="no" dir="ltr">isError</code></strong> de <code translate="no" dir="ltr">OutlinedTextField</code> sur <strong><code translate="no" dir="ltr">isGuessWrong</code></strong> pour afficher l'erreur dans le champ de texte si la proposition est incorrecte.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">GameLayout</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">currentScrambledWord</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">isGuessWrong</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Boolean</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">userGuess</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onUserGuessChanged</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Unit</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onKeyboardDone</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Unit</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span>
      <span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">Column</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">// ,...</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">OutlinedTextField</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-c1">// ...</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">isError</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">isGuessWrong</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">keyboardOptions</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">KeyboardOptions</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">Default</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">copy</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">imeAction</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ImeAction</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">Done</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">keyboardActions</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">KeyboardActions</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">onDone</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">onKeyboardDone</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="4">
      <li>Dans la fonction composable <code translate="no" dir="ltr">GameScreen()</code>, mettez à jour l'appel de la fonction <code translate="no" dir="ltr">GameLayout()</code> pour transmettre <code translate="no" dir="ltr">isGuessWrong</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-n">GameLayout</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">currentScrambledWord</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameUiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">currentScrambledWord</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">userGuess</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameViewModel</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">userGuess</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onUserGuessChanged</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameViewModel</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">updateUserGuess</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nb">it</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onKeyboardDone</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameViewModel</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">checkUserGuess</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">isGuessWrong</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameUiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">isGuessedWordWrong</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">// ...</span>
      <span class="devsite-syntax-p">)</span>
      </code></pre></devsite-code>
      <ol type="1" start="5">
      <li>Créez et exécutez votre application.</li>
      <li>Saisissez une proposition incorrecte et cliquez sur <strong>Submit</strong> (Envoyer). Notez que le champ de texte devient rouge pour indiquer une erreur.</li>
      </ol>
      <p class="image-container"><img alt="a1bc55781d627b38.png" title="Écran de jeu affichant le champ de texte d'erreur  " style="width: 249.60px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a1bc55781d627b38_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <p>Le libellé du champ de texte indique toujours "Enter your word" (Saisissez votre mot). Pour le rendre plus ergonomique, vous devez ajouter un texte d'erreur qui indique que le mot est incorrect.</p>
      <ol type="1" start="7">
      <li>Dans le fichier <strong><code translate="no" dir="ltr">GameScreen.kt</code></strong>, dans le composable <code translate="no" dir="ltr">GameLayout()</code>, mettez à jour le paramètre de libellé du champ de texte en fonction de <code translate="no" dir="ltr">isGuessWrong</code>, comme suit :</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-n">OutlinedTextField</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">// ...</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">label</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">isGuessWrong</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">wrong_guess</span><span class="devsite-syntax-p">))</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">else</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">enter_your_word</span><span class="devsite-syntax-p">))</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">// ...</span>
      <span class="devsite-syntax-p">)</span>
      </code></pre></devsite-code>
      <ol type="1" start="8">
      <li>Dans le fichier <code translate="no" dir="ltr">strings.xml</code>, ajoutez une chaîne au libellé d'erreur.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr">&lt;<span class="devsite-syntax-n">string</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s">"wrong_guess"</span>&gt;<span class="devsite-syntax-n">Wrong</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Guess</span><span class="devsite-syntax-o">!&lt;/</span><span class="devsite-syntax-n">string&gt;</span>
      </code></pre></devsite-code>
      <ol type="1" start="9">
      <li>Créez et exécutez à nouveau votre application.</li>
      <li>Saisissez une proposition incorrecte et cliquez sur <strong>Submit</strong> (Envoyer). Observez le libellé d'erreur.</li>
      </ol>
      <p class="image-container"><img alt="8c17eb61e9305d49.png" title="Écran de jeu avec un champ et un libellé de texte d'erreur " style="width: 249.60px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/8c17eb61e9305d49.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/8c17eb61e9305d49_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/8c17eb61e9305d49_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/8c17eb61e9305d49_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/8c17eb61e9305d49_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/8c17eb61e9305d49_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/8c17eb61e9305d49_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/8c17eb61e9305d49_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/8c17eb61e9305d49_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/8c17eb61e9305d49_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/8c17eb61e9305d49_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/8c17eb61e9305d49_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      
              </google-codelab-step>
      
              <google-codelab-step label="Modifier le score et le nombre de mots" duration="0" step="7">
      
                <h2 class="step-title" id="7" data-text="Modifier le score et le nombre de mots" tabindex="-1">
                    8. Modifier le score et le nombre de mots
                </h2>
                <p>Dans cette tâche, vous allez mettre à jour le score et le nombre de mots au fil de la partie de l'utilisateur. Le score doit faire partie de <code translate="no" dir="ltr">_ uiState</code>.</p>
      <ol type="1">
      <li>Dans <code translate="no" dir="ltr">GameUiState</code>, ajoutez une variable <code translate="no" dir="ltr">score</code> et initialisez-la avec la valeur zéro.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">data</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">class</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nc">GameUiState</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">currentScrambledWord</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">""</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">isGuessedWordWrong</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Boolean</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">false</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">score</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Int</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">0</span>
      <span class="devsite-syntax-p">)</span>
      </code></pre></devsite-code>
      <ol type="1" start="2">
      <li>Pour mettre à jour la valeur du score, dans <code translate="no" dir="ltr">GameViewModel</code>, dans la fonction <code translate="no" dir="ltr">checkUserGuess()</code>, dans la condition <code translate="no" dir="ltr">if</code>, lorsque la réponse de l'utilisateur est correcte, augmentez la valeur <code translate="no" dir="ltr">score</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-k">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.example.unscramble.data.SCORE_INCREASE</span>
      
      <span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">checkUserGuess</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">userGuess</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">equals</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">currentWord</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ignoreCase</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">// User's guess is correct, increase the score</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">updatedScore</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">_uiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">value</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">score</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">plus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">SCORE_INCREASE</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">else</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">//...</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="3">
      <li>Dans <code translate="no" dir="ltr">GameViewModel</code>, ajoutez une autre méthode appelée <code translate="no" dir="ltr">updateGameState</code> pour mettre à jour le score, augmenter le nombre de mots actuel et choisir un nouveau mot dans le fichier <code translate="no" dir="ltr">WordsData.kt</code>. Ajoutez un <code translate="no" dir="ltr">Int</code> nommé <code translate="no" dir="ltr">updatedScore</code> en guise de paramètre. Mettez à jour les variables d'interface d'état du jeu comme suit :</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">updateGameState</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">updatedScore</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Int</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">_uiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">update</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">copy</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">isGuessedWordWrong</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">false</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">currentScrambledWord</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">pickRandomWordAndShuffle</span><span class="devsite-syntax-p">(),</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">score</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">updatedScore</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="4">
      <li>Dans la fonction <code translate="no" dir="ltr">checkUserGuess()</code>, si la réponse de l'utilisateur est correcte, appelez <code translate="no" dir="ltr">updateGameState</code> avec le score mis à jour pour préparer le jeu pour le prochain tour.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">checkUserGuess</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">userGuess</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">equals</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">currentWord</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ignoreCase</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">// User's guess is correct, increase the score</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">// and call updateGameState() to prepare the game for next round</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">updatedScore</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">_uiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">value</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">score</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">plus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">SCORE_INCREASE</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">updateGameState</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">updatedScore</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">else</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">//...</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <p>La fonction <code translate="no" dir="ltr">checkUserGuess()</code> terminée doit se présenter comme suit :</p>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">checkUserGuess</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">userGuess</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">equals</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">currentWord</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ignoreCase</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">// User's guess is correct, increase the score</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">// and call updateGameState() to prepare the game for next round</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">updatedScore</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">_uiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">value</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">score</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">plus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">SCORE_INCREASE</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">updateGameState</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">updatedScore</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">else</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">// User's guess is wrong, show an error</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">_uiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">update</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">copy</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">isGuessedWordWrong</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">// Reset user guess</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">updateUserGuess</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">""</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <p>Ensuite, comme pour le score, vous devez mettre à jour le nombre de mots joués.</p>
      <ol type="1" start="5">
      <li>Ajoutez une autre variable pour le nombre indiqué dans <code translate="no" dir="ltr">GameUiState</code>. Appelez-la <code translate="no" dir="ltr">currentWordCount</code> et initialisez-la à <code translate="no" dir="ltr">1</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">data</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">class</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nc">GameUiState</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">currentScrambledWord</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">""</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">currentWordCount</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Int</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">1</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">score</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Int</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">0</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">isGuessedWordWrong</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Boolean</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">false</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-p">)</span>
      </code></pre></devsite-code>
      <ol type="1" start="6">
      <li>Dans la fonction <code translate="no" dir="ltr">updateGameState()</code> du fichier <code translate="no" dir="ltr">GameViewModel.kt</code>, augmentez le nombre de mots, comme indiqué ci-dessous. La fonction <code translate="no" dir="ltr">updateGameState()</code> est appelée pour préparer le jeu pour le prochain tour.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">updateGameState</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">updatedScore</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Int</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">_uiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">update</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">copy</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-c1">//...</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">currentWordCount</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">currentWordCount</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">inc</span><span class="devsite-syntax-p">(),</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <h2 is-upgraded="" id="pass-score-and-word-count" data-text="Score de réussite et nombre de mots" tabindex="-1">Score de réussite et nombre de mots</h2>
      <p>Procédez comme suit pour transmettre les données de score et de nombre de mots de <code translate="no" dir="ltr">ViewModel</code> à <code translate="no" dir="ltr">GameScreen</code>.</p>
      <p class="image-container"><img alt="546e101980380f80.png" title="Organigramme illustrant la transmission des données de score et de nombre de mots par ViewModel à l'écran de jeu  " style="width: 624.00px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/546e101980380f80.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/546e101980380f80_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/546e101980380f80_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/546e101980380f80_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/546e101980380f80_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/546e101980380f80_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/546e101980380f80_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/546e101980380f80_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/546e101980380f80_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/546e101980380f80_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/546e101980380f80_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/546e101980380f80_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <ol type="1">
      <li>Dans le fichier <code translate="no" dir="ltr">GameScreen.kt</code>, dans la fonction composable <code translate="no" dir="ltr">GameLayout()</code>, ajoutez le nombre de mots en tant qu'argument et transmettez les arguments de format <strong><code translate="no" dir="ltr">wordCount</code></strong> à l'élément de texte.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">GameLayout</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onUserGuessChanged</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Unit</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onKeyboardDone</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Unit</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">wordCount</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Int</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">//...</span>
      <span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">//...</span>
      
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">Card</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">//...</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">Column</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-c1">// ...</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-c1">//..</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">word_count</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">wordCount</span><span class="devsite-syntax-p">),</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">style</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">typography</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">titleMedium</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">color</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">colorScheme</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">onPrimary</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-p">)</span>
      
      <span class="devsite-syntax-c1">// ...</span>
      
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="2">
      <li>Mettez à jour l'appel de fonction <code translate="no" dir="ltr">GameLayout()</code> pour inclure le nombre de mots.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-n">GameLayout</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">userGuess</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameViewModel</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">userGuess</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">wordCount</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameUiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">currentWordCount</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">//...</span>
      <span class="devsite-syntax-p">)</span>
      </code></pre></devsite-code>
      <ol type="1" start="3">
      <li>Dans la fonction composable <code translate="no" dir="ltr">GameScreen()</code>, mettez à jour l'appel de fonction <code translate="no" dir="ltr">GameStatus()</code> pour inclure les paramètres <code translate="no" dir="ltr">score</code>. Transmettez le score à partir de <code translate="no" dir="ltr">gameUiState</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-n">GameStatus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">score</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameUiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">score</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">padding</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-m">20.</span><span class="devsite-syntax-n">dp</span><span class="devsite-syntax-p">))</span>
      </code></pre></devsite-code>
      <ol type="1" start="4">
      <li>Créez et exécutez l'application.</li>
      <li>Saisissez le mot à deviner et cliquez sur <strong>Submit</strong> (Envoyer). Le score et le nombre de mots sont mis à jour.</li>
      <li>Cliquez sur <strong>Skip</strong> (Ignorer). Rien ne change.</li>
      </ol>
      <p>Pour implémenter la fonctionnalité "Ignorer", vous devez transmettre le rappel de l'événement "Ignorer" à <code translate="no" dir="ltr">GameViewModel</code>.</p>
      <ol type="1" start="7">
      <li>Dans le fichier <code translate="no" dir="ltr">GameScreen.kt</code>, dans la fonction modulable <code translate="no" dir="ltr">GameScreen()</code>, appelez <code translate="no" dir="ltr">gameViewModel.skipWord()</code> dans l'expression lambda <code translate="no" dir="ltr">onClick</code>.</li>
      </ol>
      <p>Android Studio affiche une erreur, car vous n'avez pas encore implémenté la fonction. Vous allez corriger cette erreur à l'étape suivante en ajoutant la méthode <code translate="no" dir="ltr">skipWord()</code>. Lorsque l'utilisateur ignore un mot, vous devez mettre à jour les variables du jeu et préparer le jeu pour le prochain tour.</p>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-n">OutlinedButton</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onClick</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameViewModel</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">skipWord</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fillMaxWidth</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">//...</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="8">
      <li>Dans <code translate="no" dir="ltr">GameViewModel</code>, ajoutez la méthode <code translate="no" dir="ltr">skipWord()</code>.</li>
      <li>Dans la fonction <code translate="no" dir="ltr">skipWord()</code>, appelez <code translate="no" dir="ltr">updateGameState()</code> pour transmettre le score et réinitialiser la proposition de l'utilisateur.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">skipWord</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">updateGameState</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">_uiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">value</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">score</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-c1">// Reset user guess</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">updateUserGuess</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">""</span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="10">
      <li>Exécutez votre application et jouez. Vous devriez à présent pouvoir ignorer des mots.</li>
      </ol>
      <p class="image-container"><img alt="e87bd75ba1269e96.png" title="Écran de jeu affichant un mot mélangé différent et trois mots ignorés" style="width: 249.60px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/e87bd75ba1269e96.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/e87bd75ba1269e96_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/e87bd75ba1269e96_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/e87bd75ba1269e96_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/e87bd75ba1269e96_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/e87bd75ba1269e96_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/e87bd75ba1269e96_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/e87bd75ba1269e96_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/e87bd75ba1269e96_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/e87bd75ba1269e96_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/e87bd75ba1269e96_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/e87bd75ba1269e96_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <p>Vous pouvez toujours jouer au-delà de 10 mots. Lors de votre prochaine tâche, vous vous occuperez de la dernière partie du jeu.</p>
      
              </google-codelab-step>
      
              <google-codelab-step label="Gérer le dernier tour du jeu" duration="0" step="8">
      
                <h2 class="step-title" id="8" data-text="Gérer le dernier tour du jeu" tabindex="-1">
                    9. Gérer le dernier tour du jeu
                </h2>
                <p>Dans l'implémentation actuelle, les utilisateurs peuvent ignorer ou jouer au-delà de 10 mots. Dans cette tâche, vous allez ajouter une logique pour terminer le jeu.</p>
      <p class="image-container"><img alt="d3fd67d92c5d3c35.png" title="Écran de jeu affichant 15 mots joués sur 10" style="width: 249.60px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/d3fd67d92c5d3c35.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/d3fd67d92c5d3c35_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/d3fd67d92c5d3c35_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/d3fd67d92c5d3c35_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/d3fd67d92c5d3c35_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/d3fd67d92c5d3c35_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/d3fd67d92c5d3c35_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/d3fd67d92c5d3c35_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/d3fd67d92c5d3c35_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/d3fd67d92c5d3c35_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/d3fd67d92c5d3c35_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/d3fd67d92c5d3c35_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <p>Pour implémenter la logique de fin de jeu, vous devez d'abord vérifier si l'utilisateur a atteint le nombre maximal de mots.</p>
      <ol type="1">
      <li>Dans <code translate="no" dir="ltr">GameViewModel</code>, ajoutez un bloc <code translate="no" dir="ltr">if-else</code> et déplacez le corps de la fonction existante dans le bloc <code translate="no" dir="ltr">else</code>.</li>
      <li>Ajoutez une condition <code translate="no" dir="ltr">if</code> pour vérifier que la taille de <code translate="no" dir="ltr">usedWords</code> est égale à <code translate="no" dir="ltr">MAX_NO_OF_WORDS</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-k">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">com.example.android.unscramble.data.MAX_NO_OF_WORDS</span>
      
      <span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">updateGameState</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">updatedScore</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Int</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">usedWords</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">size</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">MAX_NO_OF_WORDS</span><span class="devsite-syntax-p">){</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">//Last round in the game</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">else</span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">// Normal round in the game</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">_uiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">update</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">copy</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">isGuessedWordWrong</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">false</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">currentScrambledWord</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">pickRandomWordAndShuffle</span><span class="devsite-syntax-p">(),</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">currentWordCount</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">currentWordCount</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">inc</span><span class="devsite-syntax-p">(),</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">score</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">updatedScore</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="3">
      <li>Dans le bloc <code translate="no" dir="ltr">if</code>, ajoutez l'indicateur <code translate="no" dir="ltr">Boolean</code> <code translate="no" dir="ltr">isGameOver</code> et attribuez la valeur <code translate="no" dir="ltr">true</code> à l'indicateur pour signaler la fin du jeu.</li>
      <li>Mettez à jour <code translate="no" dir="ltr">score</code> et réinitialisez <code translate="no" dir="ltr">isGuessedWordWrong</code> dans le bloc <code translate="no" dir="ltr">if</code>. Le code suivant montre à quoi doit ressembler votre fonction :</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">updateGameState</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">updatedScore</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Int</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">usedWords</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">size</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">MAX_NO_OF_WORDS</span><span class="devsite-syntax-p">){</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">//Last round in the game, update isGameOver to true, don't pick a new word</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">_uiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">update</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">copy</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">isGuessedWordWrong</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">false</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">score</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">updatedScore</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">isGameOver</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">true</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">else</span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">// Normal round in the game</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">_uiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">update</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">copy</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">isGuessedWordWrong</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">false</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">currentScrambledWord</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">pickRandomWordAndShuffle</span><span class="devsite-syntax-p">(),</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">currentWordCount</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">currentState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">currentWordCount</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">inc</span><span class="devsite-syntax-p">(),</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">score</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">updatedScore</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="5">
      <li>Dans <code translate="no" dir="ltr">GameUiState</code>, ajoutez la variable <code translate="no" dir="ltr">Boolean</code> <code translate="no" dir="ltr">isGameOver</code> et attribuez-lui ensuite la valeur <code translate="no" dir="ltr">false</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">data</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">class</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nc">GameUiState</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">currentScrambledWord</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">""</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">currentWordCount</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Int</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">1</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">score</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Int</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">0</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">isGuessedWordWrong</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Boolean</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">false</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">isGameOver</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Boolean</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">false</span>
      <span class="devsite-syntax-p">)</span>
      </code></pre></devsite-code>
      <ol type="1" start="6">
      <li>Exécutez votre application et jouez. Vous ne pouvez pas jouer plus de 10 mots.</li>
      </ol>
      <p class="image-container"><img alt="ac8a12e66111f071.png" title="Écran de jeu affichant 10 mots sur 10" style="width: 249.60px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac8a12e66111f071.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac8a12e66111f071_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac8a12e66111f071_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac8a12e66111f071_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac8a12e66111f071_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac8a12e66111f071_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac8a12e66111f071_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac8a12e66111f071_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac8a12e66111f071_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac8a12e66111f071_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac8a12e66111f071_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/ac8a12e66111f071_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <p>Une fois la partie terminée, nous vous recommandons d'en informer l'utilisateur et de lui demander s'il souhaite rejouer. Vous implémenterez cette fonctionnalité dans votre prochaine tâche.</p>
      <h2 is-upgraded="" id="display-game-end-dialog" data-text="Afficher la boîte de dialogue de fin de jeu" tabindex="-1">Afficher la boîte de dialogue de fin de jeu</h2>
      <p>Dans cette tâche, vous allez transmettre des données <code translate="no" dir="ltr">isGameOver</code> à <code translate="no" dir="ltr">GameScreen</code> depuis le ViewModel et l'utiliser pour afficher une boîte de dialogue d'alerte incluant des options pour arrêter ou redémarrer le jeu.</p>
      <p>Une boîte de dialogue est une petite fenêtre qui invite l'utilisateur à prendre une décision ou à saisir des informations supplémentaires. Normalement, une boîte de dialogue ne remplit pas tout l'écran, et les utilisateurs doivent réaliser une action avant de pouvoir continuer. Android propose différents types de boîtes de dialogue. Dans cet atelier de programmation, vous découvrirez les boîtes de dialogue d'alerte.</p>
      <h3 is-upgraded="" id="anatomy-of-alert-dialog" data-text="Anatomie d'une boîte de dialogue d'alerte" tabindex="-1">Anatomie d'une boîte de dialogue d'alerte</h3>
      <p class="image-container"><img alt="eb6edcdd0818b900.png" title="Anatomie d'une boîte de dialogue d'alerte" style="width: 452.81px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/eb6edcdd0818b900.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/eb6edcdd0818b900_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/eb6edcdd0818b900_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/eb6edcdd0818b900_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/eb6edcdd0818b900_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/eb6edcdd0818b900_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/eb6edcdd0818b900_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/eb6edcdd0818b900_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/eb6edcdd0818b900_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/eb6edcdd0818b900_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/eb6edcdd0818b900_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/eb6edcdd0818b900_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <ol type="1">
      <li>Conteneur</li>
      <li>Icône (facultatif)</li>
      <li>Titre (facultatif)</li>
      <li>Texte d'accompagnement</li>
      <li>Séparateur (facultatif)</li>
      <li>Actions</li>
      </ol>
      <p>Le fichier <code translate="no" dir="ltr">GameScreen.kt</code> du code de démarrage fournit déjà une fonction affichant une boîte de dialogue d'alerte. Celle-ci inclut des options permettant de quitter ou redémarrer le jeu.</p>
      <p class="image-container"><img alt="78d43c7aa01b414d.png" title="Boîte de dialogue d'alerte de fin de jeu avec les options &quot;Exit&quot; (Quitter) et &quot;Play again&quot; (Rejouer)" style="width: 367.20px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/78d43c7aa01b414d.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/78d43c7aa01b414d_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/78d43c7aa01b414d_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/78d43c7aa01b414d_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/78d43c7aa01b414d_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/78d43c7aa01b414d_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/78d43c7aa01b414d_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/78d43c7aa01b414d_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/78d43c7aa01b414d_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/78d43c7aa01b414d_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/78d43c7aa01b414d_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/78d43c7aa01b414d_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-nd">@Composable</span>
      <span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">FinalScoreDialog</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onPlayAgain</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Unit</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span>
      <span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">activity</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">LocalContext</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">current</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">as</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Activity</span><span class="devsite-syntax-p">)</span>
      
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">AlertDialog</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">onDismissRequest</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-c1">// Dismiss the dialog when the user clicks outside the dialog or on the back</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-c1">// button. If you want to disable that functionality, simply use an empty</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-c1">// onDismissRequest.</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">title</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">congratulations</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">you_scored</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">0</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">dismissButton</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">TextButton</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">onClick</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">                   </span><span class="devsite-syntax-n">activity</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">finish</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">exit</span><span class="devsite-syntax-p">))</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">},</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">confirmButton</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-n">TextButton</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">onClick</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">                   </span><span class="devsite-syntax-n">onPlayAgain</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">               </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">play_again</span><span class="devsite-syntax-p">))</span>
      <span class="devsite-syntax-w">           </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <p>Dans cette fonction, les paramètres <code translate="no" dir="ltr">title</code> et <code translate="no" dir="ltr">text</code> affichent le titre et le texte d'accompagnement dans la boîte de dialogue d'alerte. <code translate="no" dir="ltr">dismissButton</code> et <code translate="no" dir="ltr">confirmButton</code> sont les boutons de texte. Dans le paramètre <code translate="no" dir="ltr">dismissButton</code>, vous affichez le texte <strong>Exit</strong> (Quitter) et arrêtez l'application en terminant l'activité. Dans le paramètre <code translate="no" dir="ltr">confirmButton</code>, vous redémarrez le jeu et affichez le texte <strong>Play Again</strong> (Rejouer).</p>
      <p class="image-container"><img alt="a24f59b84a178d9b.png" title="Schéma de classe de la transmission du score à l'UI" style="width: 503.14px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a24f59b84a178d9b.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a24f59b84a178d9b_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a24f59b84a178d9b_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a24f59b84a178d9b_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a24f59b84a178d9b_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a24f59b84a178d9b_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a24f59b84a178d9b_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a24f59b84a178d9b_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a24f59b84a178d9b_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a24f59b84a178d9b_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a24f59b84a178d9b_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/a24f59b84a178d9b_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <ol type="1">
      <li>Dans la fonction <code translate="no" dir="ltr">FinalScoreDialog()</code> du fichier <code translate="no" dir="ltr">GameScreen.kt</code>, notez le paramètre du score afin d'afficher le score du jeu dans la boîte de dialogue d'alerte.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-nd">@Composable</span>
      <span class="devsite-syntax-kd">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">FinalScoreDialog</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">score</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Int</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onPlayAgain</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">Unit</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">modifier</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Modifier</span>
      <span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      </code></pre></devsite-code>
      <ol type="1" start="2">
      <li>Dans la fonction <code translate="no" dir="ltr">FinalScoreDialog()</code>, notez l'utilisation de l'expression lambda du paramètre <code translate="no" dir="ltr">text</code> pour utiliser <code translate="no" dir="ltr">score</code> comme argument de format du texte de la boîte de dialogue.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">stringResource</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">you_scored</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">score</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="3">
      <li>Dans le fichier <code translate="no" dir="ltr">GameScreen.kt</code>, à la fin de la fonction composable <code translate="no" dir="ltr">GameScreen()</code>, après le bloc <code translate="no" dir="ltr">Column</code>, ajoutez une condition <code translate="no" dir="ltr">if</code> pour vérifier <code translate="no" dir="ltr">gameUiState.isGameOver</code>.</li>
      <li>Dans le bloc <code translate="no" dir="ltr">if</code>, affichez la boîte de dialogue d'alerte. Appelez <code translate="no" dir="ltr">FinalScoreDialog()</code> en transmettant les éléments <code translate="no" dir="ltr">score</code> et <code translate="no" dir="ltr">gameViewModel.resetGame()</code> pour le rappel de l'événement <code translate="no" dir="ltr">onPlayAgain</code>.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">gameUiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">isGameOver</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">FinalScoreDialog</span><span class="devsite-syntax-p">(</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">score</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameUiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">score</span><span class="devsite-syntax-p">,</span>
      <span class="devsite-syntax-w">       </span><span class="devsite-syntax-n">onPlayAgain</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">gameViewModel</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">resetGame</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">)</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <p><code translate="no" dir="ltr">resetGame()</code> est un rappel d'événement transmis de <code translate="no" dir="ltr">GameScreen</code> à <code translate="no" dir="ltr">ViewModel</code>.</p>
      <ol type="1" start="5">
      <li>Dans le fichier <code translate="no" dir="ltr">GameViewModel.kt</code>, le rappel de la fonction <code translate="no" dir="ltr">resetGame()</code> initialise <code translate="no" dir="ltr">_uiState</code> et choisit un nouveau mot.</li>
      </ol>
      <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="Kotlin"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">resetGame</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">usedWords</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">clear</span><span class="devsite-syntax-p">()</span>
      <span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">_uiState</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">value</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">GameUiState</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">currentScrambledWord</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">pickRandomWordAndShuffle</span><span class="devsite-syntax-p">())</span>
      <span class="devsite-syntax-p">}</span>
      </code></pre></devsite-code>
      <ol type="1" start="6">
      <li>Créez et exécutez votre application.</li>
      <li>Jouez au jeu jusqu'à la fin et consultez la boîte de dialogue d'alerte qui affiche les options <strong>Exit</strong> (Quitter) ou <strong>Play Again</strong> (Rejouer). Essayez chacune de ces options.</li>
      </ol>
      <p class="image-container"><img alt="c6727347fe0db265.png" title="Écran de jeu avec une boîte de dialogue de félicitations indiquant le score final et l'option permettant de quitter ou de rejouer. " style="width: 249.60px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/c6727347fe0db265_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      
              </google-codelab-step>
      
              <google-codelab-step label="L'état dans la rotation des appareils" duration="0" step="9">
      
                <h2 class="step-title" id="9" data-text="L'état dans la rotation des appareils" tabindex="-1">
                    10. L'état dans la rotation des appareils
                </h2>
                <p>Dans les précédents ateliers de programmation, vous avez découvert les modifications de configuration dans Android. Lorsqu'une modification de configuration se produit, Android redémarre toute l'activité, en exécutant tous les rappels de démarrage du cycle de vie.</p>
      <p>Le <a href="https://developer.android.com/topic/libraries/architecture/viewmodel?hl=fr" target="_blank"><code translate="no" dir="ltr">ViewModel</code></a> stocke les données liées à l'application qui ne sont pas détruites lorsque le framework Android détruit et recrée l'activité. Les objets <code translate="no" dir="ltr">ViewModel</code> sont conservés automatiquement et ne sont pas détruits, comme l'instance d'activité lorsque la configuration change. Les données qu'ils contiennent sont immédiatement disponibles après la recomposition.</p>
      <p>Dans cette tâche, vous allez vérifier si l'application conserve StateUI lors d'un changement de configuration.</p>
      <ol type="1">
      <li>Exécutez l'application et commencez à jouer. Faites pivoter l'appareil du mode Portrait au mode Paysage, ou inversement.</li>
      <li>Notez que les données enregistrées dans l'interface utilisateur d'état de <code translate="no" dir="ltr">ViewModel</code> sont conservées lors du changement de configuration.</li>
      </ol>
      <p class="image-container"><img alt="4a63084643723724.png" title="Écran de jeu avec le mot à deviner dans le champ de texte en mode Portrait" style="width: 249.60px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4a63084643723724.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4a63084643723724_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4a63084643723724_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4a63084643723724_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4a63084643723724_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4a63084643723724_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4a63084643723724_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4a63084643723724_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4a63084643723724_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4a63084643723724_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4a63084643723724_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4a63084643723724_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      <p class="image-container"><img alt="4134470d435581dd.png" title="Écran de jeu en mode Paysage avec tous les états intacts, comme le nombre de mots et le champ de texte" style="width: 528.00px" src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4134470d435581dd.png?hl=fr" srcset="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4134470d435581dd_36.png?hl=fr 36w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4134470d435581dd_48.png?hl=fr 48w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4134470d435581dd_72.png?hl=fr 72w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4134470d435581dd_96.png?hl=fr 96w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4134470d435581dd_480.png?hl=fr 480w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4134470d435581dd_720.png?hl=fr 720w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4134470d435581dd_856.png?hl=fr 856w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4134470d435581dd_960.png?hl=fr 960w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4134470d435581dd_1440.png?hl=fr 1440w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4134470d435581dd_1920.png?hl=fr 1920w,https://developer.android.com/static/codelabs/basic-android-kotlin-compose-viewmodel-and-state/img/4134470d435581dd_2880.png?hl=fr 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
      
              </google-codelab-step>
      
              <google-codelab-step label="Télécharger le code de solution" duration="0" step="10">
      
                <h2 class="step-title" id="10" data-text="Télécharger le code de solution" tabindex="-1">
                    11. Télécharger le code de solution
                </h2>
                <p>Pour télécharger le code de cet atelier de programmation terminé, utilisez les commandes Git suivantes :</p>
      <div></div><devsite-code><pre translate="no" dir="ltr" is-upgraded="">$ git clone https://github.com/google-developer-training/basic-android-kotlin-compose-training-unscramble.git
      $ cd basic-android-kotlin-compose-training-unscramble
      $ git checkout viewmodel
      </pre></devsite-code>
      <p>Vous pouvez également télécharger le dépôt sous forme de fichier ZIP, le décompresser et l'ouvrir dans Android Studio.</p>
      <p><a href="https://github.com/google-developer-training/basic-android-kotlin-compose-training-unscramble/archive/refs/heads/viewmodel.zip" target="_blank"><button class="button button-primary button-with-icon"><span class="material-icons" aria-hidden="true" translate="no">file_download</span>Télécharger le fichier ZIP</button></a></p>
      <aside class="special"><p><strong>Remarque</strong> : Le code de solution se trouve dans la branche <code translate="no" dir="ltr">viewmodel</code> du dépôt téléchargé.</p>
      </aside>
      <p>Si vous le souhaitez, vous pouvez consulter le code de solution de cet atelier de programmation sur <a href="https://github.com/google-developer-training/basic-android-kotlin-compose-training-unscramble/tree/viewmodel" target="_blank">GitHub</a>.</p>
      
              </google-codelab-step>
      
              <google-codelab-step label="Conclusion" duration="0" step="11">
      
                <h2 class="step-title" id="11" data-text="Conclusion" tabindex="-1">
                    12. Conclusion
                </h2>
                <p>Félicitations ! Vous avez terminé l'atelier de programmation. Vous comprenez maintenant que les principes fondamentaux de l'architecture des applications Android recommandent de séparer les classes ayant des responsabilités distinctes et de piloter l'interface utilisateur à partir d'un modèle.</p>
      <p>N'oubliez pas de partager le fruit de vos efforts sur les réseaux sociaux avec le hashtag <em>#AndroidBasics</em>.</p>
      <h2 is-upgraded="" id="learn-more" data-text="En savoir plus" tabindex="-1"><strong>En savoir plus</strong></h2>
      <ul>
      <li><a href="https://developer.android.com/topic/architecture?hl=fr" target="_blank">Guide de l'architecture des applications | Développeurs Android</a></li>
      <li><a href="https://developer.android.com/topic/architecture/ui-layer?hl=fr" target="_blank">Couche d'interface utilisateur | Développeurs Android</a></li>
      <li><a href="https://developer.android.com/topic/architecture/ui-layer?hl=fr#udf" target="_blank">Gérer l'état avec un flux de données unidirectionnel | Développeurs Android</a></li>
      <li>Parcours de formation : <a href="https://developer.android.com/courses/pathways/android-architecture?hl=fr" target="_blank">Architecture des applications Android modernes</a></li>
      </ul>
      
              </google-codelab-step>
      
          </google-codelab>
      
        
      
        
      </div>
      
        
      
        
          
          
          
        
      
        
        <div class="devsite-floating-action-buttons">
        
        
      </div>
      </article>
      </body>
</html>